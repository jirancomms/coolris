{"version":3,"file":"commsris-1.0.0.js","mappings":"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","sources":["webpack:///webpack/universalModuleDefinition","webpack:///./commsris-1.0.0.ts","webpack:///./coolris-common.ts","webpack:///./environments/environment.dev.ts","webpack:///./environments/environment.prod.ts","webpack:///./risbase-common.ts","webpack:///./risbase.ts","webpack:///./service/channeltalk-service.ts","webpack:///./service/commsris-service.ts","webpack:///./service/ris-service.ts","webpack:///./service/socket.service.ts","webpack:///webpack/bootstrap","webpack:///webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function() {\nreturn ","import {constants, CoolrisOpts, CoolTemplate} from \"./coolris-common\";\r\nimport {Risbase} from \"./risbase\";\r\nimport {CommsrisService} from \"./service/commsris-service\";\r\nimport {tsLoaderSource} from \"ts-loader/dist/utils\";\r\nimport {ChannelTalkService} from \"./service/channeltalk-service\";\r\n\r\nexport class Commsris extends Risbase {\r\n\tpopupCurrentLeftPosition: number;\r\n\r\n    constructor(protected accessToken: string = '', serviceName = undefined) {\r\n        super(accessToken, serviceName);\r\n        this.risService = new CommsrisService();\r\n\t\tthis.popupCurrentLeftPosition = 0;\r\n    }\r\n\r\n    async start(coolrisOpt: CoolrisOpts | any = undefined): Promise<void> {\r\n        const options: any = this.initOption(coolrisOpt);\r\n        options.gaOpts.gaMeasurementId = options.gaOpts.gaMeasurementId ? options.gaOpts.gaMeasurementId : 'G-6F5MJCTM7J';\r\n\r\n        await super.start(options);\r\n\r\n\t\t// 각각의 사이트에 알맞는 팝업을 보여주는 시스템\r\n\t\t// this.openPopup();\r\n\t\tthis.openPopup2();\r\n    }\r\n\r\n    getCoolTemplate(): CoolTemplate {\r\n        return  {\r\n            login: this.risService.getLoginTemplate(this.serviceName, this.gaMeasurementId),\r\n            menu: this.risService.getGnbMenuTemplate(this.serviceName, this.gaMeasurementId),\r\n            more: '',\r\n            point: '',\r\n            beforeLogin: this.risService.getBeforeLoginTemplate(),\r\n            topBanner: this.risService.getTopBannerTemplate(this.serviceName, this.gaMeasurementId)\r\n        };\r\n    }\r\n\r\n    footerStart(coolrisOpt: CoolrisOpts | any = undefined) {\r\n\r\n        const options: any = this.initOption(coolrisOpt);\r\n        options.gaOpts.gaMeasurementId = options.gaOpts.gaMeasurementId ? options.gaOpts.gaMeasurementId : 'G-6F5MJCTM7J';\r\n        this.setGoogleCode(options); // 구글 ID적용, 구글 코드 함수 적용\r\n\r\n        // interface footerTemplate에 템플릿 주기\r\n        const footerTemplate = {\r\n            bi: this.risService.getBiTemplate(this.serviceName, this.gaMeasurementId),\r\n            quickMenu: this.risService.getQuickMenuTemplate(),\r\n            link: this.risService.getLinkTemplate(this.serviceName, this.gaMeasurementId),\r\n            familySite: this.risService.getFamilySiteTemplate(),\r\n            info: this.risService.getInfoTemplate(this.serviceName, this.gaMeasurementId)\r\n        };\r\n\r\n        // dot에 template을 준다.\r\n        // @ts-ignore\r\n        const coolrisTemplateFn = this.doT.template(this.risService.getFooteremplate(footerTemplate));\r\n        $('#commsrisFooter').html(coolrisTemplateFn());\r\n\r\n        this.eventDropdownAndQuickMenu();\r\n\r\n        const channelTalkService: ChannelTalkService = new ChannelTalkService();\r\n        channelTalkService.loadScript();\r\n        channelTalkService.boot({\r\n            \"pluginKey\": \"6213ceca-3275-4662-8bbf-302407b85a89\"\r\n        });\r\n    }\r\n\r\n    async loadSettingMyArea(): Promise<CCResult<Member>> {\r\n        // 프로필 세팅\r\n        const profileResult = await this.loadProfileResult(this.accessToken);\r\n        if (!profileResult.data) {\r\n            return profileResult;\r\n        }\r\n        let profileData = profileResult.data;\r\n        this.settingProfile(profileData);\r\n\t\treturn profileResult;\r\n    }\r\n\r\n    settingProfile(profileData: Member) {\r\n        $('[data-name=imgProfileImg]').attr('src', profileData.profileImage);\r\n        $('[data-name=spanProfileName]').html(profileData.name);\r\n    }\r\n\r\n    /**\r\n     *  탑배너 데이터 가져오기\r\n     */\r\n    async getBannerData() {\r\n        const setting = {\r\n            url: '//search.coolmessenger.com/api/commsrating/_search?q=topBandBanner&qf=viewType&serviceType=commsBanner',\r\n            type: 'GET'\r\n        };\r\n        return await $.ajax(setting).then(response => {return response.data});\r\n    }\r\n\r\n\r\n\tasync openPopup2() {\r\n\t\tlet subdomain = this.getHost();\r\n\t\tconst response: any = await this.getPopupData(subdomain);\r\n\r\n\t\tfor (const popupInfo of response) {\r\n\t\t\tconst { etc2 } = popupInfo;\r\n\t\t\tif (await this.hasDisplayedPopup(etc2)) {\r\n\t\t\t\tthis.showPopup(popupInfo);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync showPopup({ landingUrl: popupurl, etc1: popupSizeDict, createdDate, startDate, endDate, imageUrl }) {\r\n\t\tvar strWidth;\r\n\t\tvar strHeight;\r\n\t\t// 이미지 정보 가져오기\r\n\t\tconst size = await this.getImageSize(strWidth, strHeight, imageUrl);\r\n\r\n\t\tconst popupStartDate = new Date(this.convertDate(startDate) + ' 00:00:00');\r\n\t\tconst popupEndDate = new Date(this.convertDate(endDate) + ' 23:59:59');\r\n\t\tconst nowDate = new Date();\r\n\r\n\t\tif (popupStartDate <= nowDate && nowDate <= popupEndDate) {\r\n\t\t\tvar img = new Image();\r\n\t\t\timg.src = imageUrl\r\n\t\t\tvar devicePixelRatio = window.devicePixelRatio\r\n\t\t\t// 고해상도를 모니터, 폰? 을 이용해서 확인하는 유저를 위한 계산\r\n\t\t\t// var w = Math.round(img.width * devicePixelRatio);\r\n\t\t\t// var h = Math.round(img.height * devicePixelRatio);\r\n\r\n\t\t\tvar whaleSizeOption = 'width=' + Math.round(img.width) + ',height=' + Math.round(img.height) + ',left=' + this.popupCurrentLeftPosition;\r\n\t\t\tvar chromeSizeOption = 'width=' + Math.round(img.width) + ',height=' + (Math.round(img.height) + 30 + ',left=' + this.popupCurrentLeftPosition);\r\n\t\t\tthis.popupCurrentLeftPosition += Math.round(img.width);\r\n\t\t\tconsole.log(this.popupCurrentLeftPosition);\r\n\r\n\t\t\t// var sizeOption = 'width=' + img.width + ',height=' + img.height;\r\n\t\t\t// const chromeSizeOption = `width=${popupChromeWidth},height=${popupChromeHeight},toolbar=no,history=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t\t// const chromeSizeOption = `toolbar=no,history=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t\t// const whaleSizeOption = `width=${popupWhaleWidth},height=${popupWhaleHeight},toolbar=no,history=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t\t// const whaleSizeOption = `toolbar=no,history=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t\tconst sizeOption = navigator.userAgent.indexOf('Whale') > -1 ? whaleSizeOption : chromeSizeOption;\r\n\r\n\t\t\twindow.open(popupurl, createdDate, sizeOption)\r\n\t\t}\r\n\r\n\t\t// async function openTest() {\r\n\t\t// \tif (popupStartDate <= nowDate && nowDate <= popupEndDate) {\r\n\t\t// \t\tvar img = new Image();\r\n\t\t// \t\timg.src = imageUrl\r\n\t\t// \t\tvar devicePixelRatio = window.devicePixelRatio\r\n\t\t// \t\t// 고해상도를 모니터, 폰? 을 이용해서 확인하는 유저를 위한 계산\r\n\t\t// \t\t// var w = Math.round(img.width * devicePixelRatio);\r\n\t\t// \t\t// var h = Math.round(img.height * devicePixelRatio);\r\n\t\t// \t\tvar whaleSizeOption = 'width=' + Math.round(img.width) + ',height=' + Math.round(img.height);\r\n\t\t// \t\tvar chromeSizeOption = 'width=' + Math.round(img.width) + ',height=' + (Math.round(img.height) + 30);\r\n\t\t// \t\t// var sizeOption = 'width=' + img.width + ',height=' + img.height;\r\n\t\t// \t\t// const chromeSizeOption = `width=${popupChromeWidth},height=${popupChromeHeight},toolbar=no,history=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t// \t\t// const chromeSizeOption = `toolbar=no,history=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t// \t\t// const whaleSizeOption = `width=${popupWhaleWidth},height=${popupWhaleHeight},toolbar=no,history=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t// \t\t// const whaleSizeOption = `toolbar=no,history=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t// \t\tconst sizeOption = navigator.userAgent.indexOf('Whale') > -1 ? whaleSizeOption : chromeSizeOption;\r\n\t\t//\r\n\t\t// \t\twindow.open(popupurl, createdDate, sizeOption)\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\t// openTest();\r\n\t}\r\n\r\n\tasync getImageSize(strWidth, strHeight, imageUrl) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst img = new Image();\r\n\t\t\timg.onload = function() {\r\n\t\t\t\tconst size = {\r\n\t\t\t\t\twidth: img.width,\r\n\t\t\t\t\theight: img.height\r\n\t\t\t\t};\r\n\t\t\t\tresolve(size);\r\n\t\t\t};\r\n\t\t\timg.onerror = function() {\r\n\t\t\t\treject(new Error('Image load error'));\r\n\t\t\t};\r\n\t\t\timg.src = imageUrl;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * 사이트에 알맞는 팝업을 실행시켜주는 로직입니다.\r\n\t */\r\n\tasync openPopup() {\r\n\r\n\t\t// commsris를 호출한 사이트의 subdomain 정보를 가져옵니다.\r\n\t\tlet subdomain = this.getHost();\r\n\t\tconst response: any = await this.getPopupData(subdomain);\r\n\r\n\t\tfor (const popupInfo of response) {\r\n\t\t\tconst { etc2 } = popupInfo;\r\n\t\t\tif (await this.hasDisplayedPopup(etc2)) {\r\n\t\t\t\tthis.displayPopup(popupInfo);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param subdomain\r\n\t * domain이 보여줘야하는 팝업 리스트 정보를 가져옵니다.\r\n\t * comms-search 서버로 부터 조회\r\n\t */\r\n    async getPopupData(subdomain) {\r\n\t\tlet url = `${constants.searchUrl}/api/commsrating/_search?serviceType=popup&etcList1=`+subdomain\r\n\t\t// let url = `https://dev-search.coolmessenger.com/api/commsrating/_search?serviceType=popup&etcList1=`+\"coolsms\"\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\t$.get(url).then(response => {\r\n\t\t\t\tresolve(response.data);\r\n\t\t\t});\r\n\t\t});\r\n    }\r\n\r\n\t/**\r\n\t *\r\n\t * @param cookieName\r\n\t * @private\r\n\t * 쿠키 정보가 있으면, 팝업을 안보여주고\r\n\t * 쿠키 정보가 없으면, 팝업을 보여줍니다.\r\n\t */\r\n\tasync hasDisplayedPopup(cookieName) {\r\n\t\tlet cookie = this.getCookie(cookieName);\r\n\t\treturn cookie == \"\";\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param popupurl\r\n\t * @param popupSizeDict\r\n\t * @param createdDate\r\n\t * @param startDate\r\n\t * @param endDate\r\n\t * @private\r\n\t * 팝업을 실행하는 로직입니다.\r\n\t * 도메인에 알맞는 팝업을 실행시켜주며\r\n\t * 팝업의 가로, 세로 설정 및 기타 설정들을 지정합니다.\r\n\t */\r\n\tprivate displayPopup({ landingUrl: popupurl, etc1: popupSizeDict, createdDate, startDate, endDate }) {\r\n\t\tlet parse = JSON.parse(popupSizeDict);\r\n\r\n\t\tlet popupChromeWidth = parse['chromeWidth']\r\n\t\tlet popupChromeHeight = parse['chromeHeight']\r\n\t\tlet popupWhaleWidth = parse['whaleWidth']\r\n\t\tlet popupWhaleHeight = parse['whaleHeight']\r\n\r\n\r\n\t\tconst popupStartDate = new Date(this.convertDate(startDate) + ' 00:00:00');\r\n\t\tconst popupEndDate = new Date(this.convertDate(endDate) + ' 23:59:59');\r\n\t\tconst nowDate = new Date();\r\n\t\tif (popupStartDate <= nowDate && nowDate <= popupEndDate) {\r\n\t\t\tlet image = new Image();\r\n\t\t\timage.src = \"https://update.coolmessenger.com/_ImageServer/popup/2023/04/17/template1.png\"\r\n\t\t\tconst width = image.width;\r\n\t\t\tconst height = image.height;\r\n\r\n\t\t\t// const chromeSizeOption = `width=${popupChromeWidth},height=${popupChromeHeight},toolbar=no,history=no,resizable=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t\tconst chromeSizeOption = `width=${width},height=${height},toolbar=no,history=no,resizable=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t\t// const whaleSizeOption = `width=${popupWhaleWidth},height=${popupWhaleHeight},toolbar=no,history=no,resizable=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t\tconst whaleSizeOption = `width=${width},height=${height},toolbar=no,history=no,resizable=no,status=n,top=0,left=0,scrollbars=no,menubar=no`;\r\n\t\t\tconst sizeOption = navigator.userAgent.indexOf('Whale') > -1 ? whaleSizeOption : chromeSizeOption;\r\n\r\n\t\t\twindow.open(popupurl, createdDate, sizeOption);\r\n\t\t}\r\n\t}\r\n\r\n\tconvertDate(sampleTimestamp) {\r\n\t\tlet date = new Date(sampleTimestamp); //타임스탬프를 인자로 받아 Date 객체 생성\r\n\r\n\t\tlet year = date.getFullYear().toString().slice(-4); //년도 뒤에 두자리\r\n\t\tlet month = (\"0\" + (date.getMonth() + 1)).slice(-2); //월 2자리 (01, 02 ... 12)\r\n\t\tlet day = (\"0\" + date.getDate()).slice(-2); //일 2자리 (01, 02 ... 31)\r\n\t\tlet hour = (\"0\" + date.getHours()).slice(-2); //시 2자리 (00, 01 ... 23)\r\n\t\tlet minute = (\"0\" + date.getMinutes()).slice(-2); //분 2자리 (00, 01 ... 59)\r\n\t\tlet second = (\"0\" + date.getSeconds()).slice(-2); //초 2자리 (00, 01 ... 59)\r\n\t\tlet returnDate = year + \"/\" + month + \"/\" + day;\r\n\t\treturn returnDate;\r\n\t}\r\n\r\n    /**\r\n     * 구글코드 옵션 합쳐주기 (디폴트 옵션 주기)\r\n     * @param coolrisOpt\r\n     */\r\n    initOption(coolrisOpt: CoolrisOpts | any = undefined): CoolrisOpts {\r\n        const defOption: CoolrisOpts = {\r\n            gaOpts: {\r\n                gaPageviewCall: true,\r\n                gaMeasurementId: 'G-6F5MJCTM7J'\r\n            }\r\n        } as any;\r\n        return $.extend(true, defOption, coolrisOpt);\r\n    }\r\n\r\n\r\n}\r\n","// 쿨리스 옵션 클레스\r\nimport {environment} from './environments/environment.prod';\r\nimport {environmentDev} from './environments/environment.dev';\r\n\r\nexport interface CoolrisOpts {\r\n    logoutOpts: LogoutOpts;\r\n    gaOpts: GaOpts;\r\n    layoutOpts: LayoutOpts;\r\n}\r\n\r\n// 레이아웃 변화 주는 옵션\r\nexport interface LayoutOpts {\r\n    isFullSize: boolean; // 해더의 레이아웃을 full-size로 변형\r\n}\r\n\r\n// 구글 코드 옵션\r\nexport interface GaOpts {\r\n    gaMeasurementId: string; // 구글 코드 ID\r\n    gaPageviewCall: boolean; // 페이지 뷰의 여부\r\n}\r\n\r\n// 로그아웃 옵션\r\nexport interface LogoutOpts {\r\n    isRestoreLocation: boolean; // 로그아웃한 사이트에 남아있을 여부\r\n    isLogoutProc: boolean; // /logoutProc 사용 유무\r\n    logoutProcUrl: string | undefined;  // 다른 로그아웃 url이 필요할 때\r\n    callbackLogoutComplete: Function; // 로그아웃 완료 후 콜백함수\r\n}\r\n\r\n// 템플릿 종류\r\nexport interface CoolTemplate {\r\n    login: string;\r\n    menu: string;\r\n    more: string;\r\n    alarm?: string;\r\n    point: string;\r\n    beforeLogin: string;\r\n    topBanner: string;\r\n    bi?: string\r\n}\r\n\r\n// 푸터용 템플릿 종류\r\nexport interface FooterTemplate {\r\n    bi: string;\r\n    quickMenu: string;\r\n    link: string;\r\n    familySite: string;\r\n    info: string;\r\n}\r\nexport enum ECoolEnv {\r\n    LOCAL = 'local',\r\n    DEV = 'dev',\r\n    PROD = 'prod',\r\n}\r\n\r\n// 적용 사이트에서 필요한 env 가져오는 로직\r\nexport class CoolEnv {\r\n    getEnv(): ECoolEnv {\r\n        let localHost = location.hostname.indexOf('local');\r\n        let devHost = location.hostname.indexOf('dev');\r\n        if (localHost === -1 && devHost === -1) {\r\n            return ECoolEnv.PROD;\r\n        }\r\n        if (localHost === 0) {\r\n            return ECoolEnv.LOCAL;\r\n        }\r\n        if (devHost === 0) {\r\n            return ECoolEnv.DEV;\r\n        }\r\n    }\r\n\r\n    getEnvPrefix() {\r\n        let prefix = '';\r\n        const env: ECoolEnv = this.getEnv();\r\n        switch (env) {\r\n            case ECoolEnv.PROD:\r\n                break\r\n            case ECoolEnv.LOCAL:\r\n            case ECoolEnv.DEV:\r\n                prefix = env + '-'\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return prefix;\r\n    }\r\n}\r\n\r\n\r\nconst coolEnv = new CoolEnv();\r\nconst siteUrl = coolEnv.getEnv() === ECoolEnv.PROD ? environment : environmentDev;\r\n\r\nexport const constants = {\r\n    memberUrl:  (() => {\r\n        if (location.hostname.indexOf('coolmessenger.com') !== -1 || location.hostname.indexOf('coolalimi') !== -1) {\r\n            return `//${coolEnv.getEnvPrefix()}member.coolmessenger.com`;\r\n        }\r\n        return `//${coolEnv.getEnvPrefix()}member.coolschool.co.kr`;\r\n    })(),\r\n    searchUrl:  (() => {\r\n        if (location.hostname.indexOf('coolmessenger.com') !== -1 || location.hostname.indexOf('coolalimi') !== -1) {\r\n            return `//${coolEnv.getEnvPrefix()}search.coolmessenger.com`;\r\n        }\r\n        return `//${coolEnv.getEnvPrefix()}search.coolschool.co.kr`;\r\n    })(),\r\n    clientIds: {\r\n        'www': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzUzNDM0ODRmNGY0Yw==', // coolschool\r\n        '': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzUzNDM0ODRmNGY0Yw==', // coolschool\r\n        'coolschool': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzUzNDM0ODRmNGY0Yw==', // coolschool\r\n        'my': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzUzNDM0ODRmNGY0Yw==', // myInfo\r\n        'coolendar': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzRhNGY0Mg==', // coolendar\r\n        'coolendar3': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzRhNGY0Mg==', // coolendar3\r\n        'cooledu': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzQ1NDQ1NQ==', // cooledu\r\n        'samstory': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E1MzQxNGQ1MzU0NGY1MjU5', // samstory\r\n        'school': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzRkNDU1MzUzNDU0ZTQ3NDU1Mg==', // coolmessenger\r\n        'coolpama': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzUwNDE0ZDQx', // coolpama\r\n        'coolbooks': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzU0NDI0ZjRmNGI1Mw==', // coolbooks\r\n        't-mall': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E1NzQ1NTQ0NTQxNDM0ODQ1NTI=', // t-mall\r\n        'coolmarket': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzRkNDE1MjRiNDU1NA==', //coolmarket\r\n        'coolmova': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0ZDRmNTY0MQ==', // coolmova\r\n        't-fun': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0NDQxNWE1YTRjNDU0NTQ0NTU=', // t-fun\r\n        'member': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzUzNDM0ODRmNGY0Yw==', // myInfo\r\n        'point': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzUzNDM0ODRmNGY0Yw==', // point\r\n        'alimi': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzZmNmY2YzQxNmM2MTcyNmQ=', // alimi\r\n        'coolalimi': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzZmNmY2YzQxNmM2MTcyNmQ=', // coolalimi\r\n        'eduspace': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MjQ1NTM1NDU0NDU0Mw==', // eduspace\r\n        'futureclass': 'NjM2YzY5NjU2ZTc0NWY2OTY0M2E0MzRmNGY0YzUzNDM0ODRmNGY0Yw==', // futureclass\r\n    },\r\n    siteUrl,\r\n};\r\n\r\nexport const SOCKET_URL = 'socket.coolmessenger.com';\r\nexport enum SocketEvent {\r\n    JOIN_USER = 'join_user',\r\n    EVENT_BROADCAST = 'event_broadcast',\r\n    UPDATE_MY_INFO = 'update_my_info',\r\n    UPDATE_ADDRESS_GROUP = 'update_address_group',\r\n    UPDATE_ADDRESS_PHONE = 'update_address_phone',\r\n    LOGOUT = 'logout',\r\n};\r\n","export const environmentDev = {\r\n    envName: 'dev',\r\n    coolsmsUrl: 'https://dev-coolsms.coolmessenger.com',\r\n    memberUrl: 'https://dev-member.coolmessenger.com',\r\n    coolalimiUrl: 'https://dev.coolalimi.com',\r\n    coolalimTalkUrl: 'https://dev.coolalimi.com/alimtalk',\r\n    coolendarUrl: '//dev-coolendar.coolmessenger.com',\r\n    coolmessengerUrl: '//dev-school.coolmessenger.com',\r\n};\r\n","export const environment = {\r\n    envName: 'prod',\r\n    coolsmsUrl: 'https://coolsms.coolmessenger.com',\r\n    memberUrl: 'https://member.coolmessenger.com',\r\n    coolalimiUrl: 'https://www.coolalimi.com',\r\n    coolalimTalkUrl: 'https://www.coolalimi.com/alimtalk',\r\n    coolendarUrl: '//coolendar.coolmessenger.com',\r\n    coolmessengerUrl: '//school.coolmessenger.com',\r\n};\r\n","import {CoolrisOpts, GaOpts} from \"./coolris-common\";\r\nimport {CoolrisService} from \"./service/coolris-service\";\r\nimport {RisService} from \"./service/ris-service\";\r\n\r\ndeclare var gtag: any;\r\ndeclare var window: any;\r\n\r\nexport class RisbaseCommon {\r\n    protected gaMeasurementId: string;\r\n    protected serviceName: string;\r\n    protected risService: RisService;\r\n\r\n    constructor(serviceName = undefined) {\r\n        // include dot.js\r\n        // @ts-ignore\r\n        !function(){\"use strict\";var u,d={name:\"doT\",version:\"1.1.3\",templateSettings:{evaluate:/\\{\\{([\\s\\S]+?(\\}?)+)\\}\\}/g,interpolate:/\\{\\{=([\\s\\S]+?)\\}\\}/g,encode:/\\{\\{!([\\s\\S]+?)\\}\\}/g,use:/\\{\\{#([\\s\\S]+?)\\}\\}/g,useParams:/(^|[^\\w$])def(?:\\.|\\[[\\'\\\"])([\\w$\\.]+)(?:[\\'\\\"]\\])?\\s*\\:\\s*([\\w$\\.]+|\\\"[^\\\"]+\\\"|\\'[^\\']+\\'|\\{[^\\}]+\\})/g,define:/\\{\\{##\\s*([\\w\\.$]+)\\s*(\\:|=)([\\s\\S]+?)#\\}\\}/g,defineParams:/^\\s*([\\w$]+):([\\s\\S]+)/,conditional:/\\{\\{\\?(\\?)?\\s*([\\s\\S]*?)\\s*\\}\\}/g,iterate:/\\{\\{~\\s*(?:\\}\\}|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+))?\\s*\\}\\})/g,varname:\"it\",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};d.encodeHTMLSource=function(e){var n={\"&\":\"&#38;\",\"<\":\"&#60;\",\">\":\"&#62;\",'\"':\"&#34;\",\"'\":\"&#39;\",\"/\":\"&#47;\"},t=e?/[&<>\"'\\/]/g:/&(?!#?\\w+;)|<|>|\"|'|\\//g;return function(e){return e?e.toString().replace(t,function(e){return n[e]||e}):\"\"}},u=function(){return this||(0,eval)(\"this\")}(),this.doT=d;var s={append:{start:\"'+(\",end:\")+'\",startencode:\"'+encodeHTML(\"},split:{start:\"';out+=(\",end:\");out+='\",startencode:\"';out+=encodeHTML(\"}},p=/$^/;function l(e){return e.replace(/\\\\('|\\\\)/g,\"$1\").replace(/[\\r\\t\\n]/g,\" \")}d.template=function(e,n,t){var r,o,a=(n=n||d.templateSettings).append?s.append:s.split,c=0,i=n.use||n.define?function r(o,e,a){return(\"string\"==typeof e?e:e.toString()).replace(o.define||p,function(e,r,n,t){return 0===r.indexOf(\"def.\")&&(r=r.substring(4)),r in a||(\":\"===n?(o.defineParams&&t.replace(o.defineParams,function(e,n,t){a[r]={arg:n,text:t}}),r in a||(a[r]=t)):new Function(\"def\",\"def['\"+r+\"']=\"+t)(a)),\"\"}).replace(o.use||p,function(e,n){o.useParams&&(n=n.replace(o.useParams,function(e,n,t,r){if(a[t]&&a[t].arg&&r){var o=(t+\":\"+r).replace(/'|\\\\/g,\"_\");return a.__exp=a.__exp||{},a.__exp[o]=a[t].text.replace(new RegExp(\"(^|[^\\\\w$])\"+a[t].arg+\"([^\\\\w$])\",\"g\"),\"$1\"+r+\"$2\"),n+\"def.__exp['\"+o+\"']\"}}));var t=new Function(\"def\",\"return \"+n)(a);return t?r(o,t,a):t})}(n,e,t||{}):e;i=(\"var out='\"+(n.strip?i.replace(/(^|\\r|\\n)\\t* +| +\\t*(\\r|\\n|$)/g,\" \").replace(/\\r|\\n|\\t|\\/\\*[\\s\\S]*?\\*\\//g,\"\"):i).replace(/'|\\\\/g,\"\\\\$&\").replace(n.interpolate||p,function(e,n){return a.start+l(n)+a.end}).replace(n.encode||p,function(e,n){return r=!0,a.startencode+l(n)+a.end}).replace(n.conditional||p,function(e,n,t){return n?t?\"';}else if(\"+l(t)+\"){out+='\":\"';}else{out+='\":t?\"';if(\"+l(t)+\"){out+='\":\"';}out+='\"}).replace(n.iterate||p,function(e,n,t,r){return n?(c+=1,o=r||\"i\"+c,n=l(n),\"';var arr\"+c+\"=\"+n+\";if(arr\"+c+\"){var \"+t+\",\"+o+\"=-1,l\"+c+\"=arr\"+c+\".length-1;while(\"+o+\"<l\"+c+\"){\"+t+\"=arr\"+c+\"[\"+o+\"+=1];out+='\"):\"';} } out+='\"}).replace(n.evaluate||p,function(e,n){return\"';\"+l(n)+\"out+='\"})+\"';return out;\").replace(/\\n/g,\"\\\\n\").replace(/\\t/g,\"\\\\t\").replace(/\\r/g,\"\\\\r\").replace(/(\\s|;|\\}|^|\\{)out\\+='';/g,\"$1\").replace(/\\+''/g,\"\"),r&&(n.selfcontained||!u||u._encodeHTML||(u._encodeHTML=d.encodeHTMLSource(n.doNotSkipEncoded)),i=\"var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : (\"+d.encodeHTMLSource.toString()+\"(\"+(n.doNotSkipEncoded||\"\")+\"));\"+i);try{return new Function(n.varname,i)}catch(e){throw\"undefined\"!=typeof console&&console.log(\"Could not create a template function: \"+i),e}},d.compile=function(e,n){return d.template(e,null,n)}}.apply(this);\r\n        if(serviceName == undefined) {\r\n            this.serviceName = this.getHost();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 구글 ID적용, 구글 코드 함수 적용\r\n     * @param coolrisOpt\r\n     */\r\n    setGoogleCode(coolrisOpt: CoolrisOpts | any = undefined) {\r\n        if (coolrisOpt && coolrisOpt.gaOpts && coolrisOpt.gaOpts.gaMeasurementId) {\r\n            this.gaMeasurementId = coolrisOpt.gaOpts.gaMeasurementId;\r\n            this.addCcAnalytics(coolrisOpt.gaOpts);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 구글코드 옵션 합쳐주기 (디폴트 옵션 주기)\r\n     * @param coolrisOpt\r\n     */\r\n    initOption(coolrisOpt: CoolrisOpts | any = undefined): CoolrisOpts {\r\n        const defOption: CoolrisOpts = {\r\n            gaOpts: {\r\n                gaPageviewCall: true,\r\n                gaMeasurementId: 'UA-92421532-1'\r\n            }\r\n        } as any;\r\n        return $.extend(true, defOption, coolrisOpt);\r\n    }\r\n\r\n    // 드롭다운 껐다가 키기\r\n    dropdownOnOff(dropdownClass: string, callback: Function) {\r\n        // 프로필 메뉴 빼고 클릭시 드롭다운 꺼짐\r\n        $(window).click(($event: any) => {\r\n            if (!callback($event.target.className)) {\r\n                const dropdown = $(`.${dropdownClass}`);\r\n                if (dropdown.hasClass('show')) {\r\n                    dropdown.removeClass('show');\r\n                }\r\n            }\r\n        });\r\n\r\n        $(`.${dropdownClass}`).click(($event: any) => {\r\n            // 클릭한 태그가 a이거나 클릭한 태그의 부모가 a이거나 클릭한 클레스의 이름이 dropdown-close 이면 리턴\r\n            if ($event.target.parentNode.tagName.toLowerCase() === 'a' || $event.target.tagName.toLowerCase() === 'a' || $event.target.className.indexOf('dropdown-close') !== -1) {\r\n                return;\r\n            }\r\n            this.preventClickEvent($event);\r\n        })\r\n    }\r\n\r\n    // 마우스 클릭 이벤트 막기\r\n    preventClickEvent($event: any) {\r\n        $event.preventDefault();\r\n        $event.stopPropagation();\r\n    }\r\n\r\n    // 구글코드 삽입\r\n    protected addCcAnalytics(gaOpts: GaOpts) {\r\n        // include gtag\r\n        $(document).ready(() => {\r\n            const glTagLen = $(\"script[src*='www.googletagmanager.com/gtag/js']\").length;\r\n            if (glTagLen === 0) {\r\n                const ga = document.createElement('script');\r\n                ga.type = 'text/javascript';\r\n                ga.async = true;\r\n                ga.src = 'https://www.googletagmanager.com/gtag/js?id=' + gaOpts.gaMeasurementId;\r\n                const s = document.getElementsByTagName('script')[0];\r\n                s.parentNode.insertBefore(ga, s);\r\n            }\r\n            if (!window.gtag || typeof window.gtag !== 'function') {\r\n                window.dataLayer = window.dataLayer || [];\r\n                // @ts-ignore\r\n                window.gtag = () => {window.dataLayer.push(arguments);}\r\n            }\r\n            gtag('js', new Date());\r\n            if (gaOpts.gaPageviewCall === undefined) {\r\n                gaOpts.gaPageviewCall = true;\r\n            }\r\n            gtag('config', gaOpts.gaMeasurementId, {'send_page_view': gaOpts.gaPageviewCall});\r\n        });\r\n    }\r\n\r\n    // 랜덤한 숫자 가져오기\r\n    getRandomeNum(index: number) {\r\n        return Math.floor((Math.random() * index))\r\n    }\r\n\r\n    /**\r\n     *  숫자 원처리 (, 콤마 붙텨주기)\r\n     * @param num 숫자\r\n     * @protected\r\n     */\r\n    protected addComma(num: any) {\r\n        const regexp = /\\B(?=(\\d{3})+(?!\\d))/g;\r\n        return num.toString().replace(regexp, ',');\r\n    }\r\n\r\n    /**\r\n     * y.m.d 형태로 format 변경\r\n     * @param date\r\n     */\r\n    toDateYmdFormat(date: Date) {\r\n        const yyyy = date.getFullYear().toString();\r\n        const mm = (date.getMonth() + 1).toString();\r\n        const dd = date.getDate().toString();\r\n\r\n        return yyyy + '.' +(mm[1] ? mm : '0' + mm[0]) + '.' + (dd[1] ? dd : '0' + dd[0]);\r\n    }\r\n\r\n    /**\r\n     * 배열 셔플\r\n     * @protected\r\n     * @param a 배열\r\n     */\r\n    protected suffle(a: Array<any>) {\r\n        let j, x, i;\r\n        for (i = a.length; i; i -= 1) {\r\n            j = Math.floor(Math.random() * i);\r\n            x = a[i - 1];\r\n            a[i - 1] = a[j];\r\n            a[j] = x;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 쿠키 저장\r\n     * @param cname\r\n     * @param cvalue\r\n     * @param exdays\r\n     */\r\n    setCookie(cname: string, cvalue: string, exdays: number) {\r\n        const d = new Date();\r\n        // tslint:disable-next-line\r\n        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n        const expires = 'expires=' + d.toUTCString();\r\n        document.cookie = cname + '=' + cvalue + ';' + expires + ';path=/';\r\n    }\r\n\r\n    /**\r\n     * 쿠키 가져오기\r\n     * @param cname\r\n     */\r\n    getCookie(cname: string) {\r\n        const name = cname + \"=\";\r\n        const decodedCookie = decodeURIComponent(document.cookie);\r\n        const ca = decodedCookie.split(';');\r\n        for(var i = 0; i <ca.length; i++) {\r\n            var c = ca[i];\r\n            while (c.charAt(0) == ' ') {\r\n                c = c.substring(1);\r\n            }\r\n            if (c.indexOf(name) == 0) {\r\n                return c.substring(name.length, c.length);\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    /**\r\n     *  호스트 정보 가져오기\r\n     */\r\n    getHost() {\r\n        let host = location.hostname;\r\n        host = host.replace('.coolschool.co.kr', '')\r\n            .replace('coolschool.co.kr', '')\r\n            .replace('.coolmessenger.com', '')\r\n            .replace('coolmessenger.com', '')\r\n            .replace('local-', '')\r\n            .replace('dev-', '')\r\n            .replace('local', '')\r\n            .replace('dev', '')\r\n            .replace('.com', '')\r\n            .replace('.co.kr', '');\r\n        if(host === '' || host === 'www') {\r\n            return 'coolschool';\r\n        }\r\n        return host;\r\n    }\r\n\r\n    // 버튼 클릭시 드롭다운 켜짐\r\n    /**\r\n     *\r\n     * @param toggleBtn  드롭다운 토글버튼 클레스\r\n     * @param dropDownClass 드롭다운 클레스\r\n     * @param googleCodeLabel 드롭다운 토글버스의 구글코드\r\n     */\r\n    dropdownToggle(toggleBtn: string, dropDownClass: string, googleCodeLabel: string) {\r\n        $(`.${toggleBtn}`).click(() => {\r\n            $(`.${dropDownClass}`).toggleClass('show');\r\n            this.setGtag(googleCodeLabel);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * gtag 설정\r\n     * @param googleCodeLabel 구글코드에 입력할 라벨 입력\r\n     */\r\n    setGtag(googleCodeLabel: string) {\r\n        gtag('event', this.serviceName, {\r\n            'event_category': 'link',\r\n            'event_label': googleCodeLabel,\r\n            'send_to': this.gaMeasurementId\r\n        })\r\n    }\r\n\r\n    /**\r\n     *  스크롤 할 때 quick menu 보여주고 가리기 (위로가기, 아래로가기 버튼)\r\n     */\r\n    onScrollShowQuickMenu() {\r\n        const $win = $(window);\r\n        $win.scroll(() => {\r\n            const winScroll = $win.scrollTop();\r\n            const topBtm = $(\"div[coolrisQuickMenu]\");\r\n            if( winScroll > 100  ) {\r\n                topBtm.addClass(\"on\");\r\n            } else {\r\n                topBtm.removeClass(\"on\");\r\n            }\r\n        })\r\n    };\r\n\r\n    /**\r\n     * quick menu 클릭 이벤트 (위로가기, 아래로가기 버튼)\r\n     */\r\n    onClickQuickMenu() {\r\n        const htmlBody = $(\"html, body\");\r\n        const quickmenu = $(\"div[coolrisQuickMenu]\");\r\n        quickmenu.find(\".ico-top\").click(() => { //위로가기 눌렀을때\r\n            htmlBody.stop().animate({\"scrollTop\" : 0});\r\n        });\r\n        quickmenu.find(\".ico-bottom\").click(() => { //아래로가기 눌렀을때\r\n            const footerH = $(document).height();\r\n            htmlBody.stop().animate({\"scrollTop\" : footerH});\r\n        });\r\n    };\r\n\r\n    // 드롭다운, 퀵메뉴 이벤트\r\n    eventDropdownAndQuickMenu() {\r\n        // 패밀리 사이트 드롭다운\r\n        this.dropdownToggle('coolris-familysite-btn', 'coolris-familysite-dropdown', 'familysite');\r\n        this.dropdownOnOff('coolris-familysite-dropdown', this.targeCheck);\r\n\r\n        // quick menu 함수\r\n        this.onScrollShowQuickMenu();\r\n        this.onClickQuickMenu();\r\n    }\r\n\r\n    // 패밀리 사이트 드롭다운 버튼을 클릭했는지 체크\r\n    targeCheck(target: string) {\r\n        let isChecked = false;\r\n        switch (target) {\r\n            case 'coolris-familysite-btn':\r\n                isChecked = true;\r\n                break;\r\n            case 'coolris-familysite-arrow':\r\n                isChecked = true;\r\n                break;\r\n        }\r\n        return isChecked;\r\n    }\r\n}\r\n","import {constants, CoolrisOpts, CoolTemplate, LogoutOpts} from \"./coolris-common\";\r\nimport {RisbaseCommon} from \"./risbase-common\";\r\nimport {SocketService} from \"./service/socket.service\";\r\n\r\ndeclare var $: any;\r\ndeclare var gtag: any;\r\ndeclare var window: any;\r\n\r\nexport class Risbase extends RisbaseCommon {\r\n\r\n    protected loginInfo = {result: false, data: undefined} as any;\r\n\r\n    constructor(\r\n        protected accessToken: string = '',\r\n        private socketService: SocketService,\r\n        serviceName = undefined\r\n    ) {\r\n        super(serviceName);\r\n    }\r\n\r\n    /**\r\n     * 쿨리스 해더 생성\r\n     * @param coolrisOpt 쿨리스 옵션\r\n     */\r\n    async start(coolrisOpt: CoolrisOpts | any = undefined) {\r\n        this.setGoogleCode(coolrisOpt); // 구글 ID적용, 구글 코드 함수 적용\r\n\r\n        // @ts-ignore\r\n        const gnbOuterTemplateFn = this.doT.template(this.risService.getGnbOuterTemplate());\r\n        $('#coolrisGnb').html(gnbOuterTemplateFn());\r\n\r\n        // 탑배너 쿠키가 없다면 탑배너 영역 데이터 로드 및 랜더\r\n        if (!this.getCookie('topbanner')) {\r\n            this.loadSettingTopBanner();\r\n        }\r\n\r\n        // interface Cooltemplate에 템플릿 주기\r\n        const coolTemplate = this.getCoolTemplate();\r\n\r\n        // 로그인 여부에 따른 처리\r\n        const memberResponse = await this.loginCheck();\r\n        const isLogin = memberResponse.result;\r\n\r\n        // isFullSize 옵션 값\r\n        let isFullSize = false;\r\n        if (coolrisOpt.layoutOpts && coolrisOpt.layoutOpts.isFullSize) {\r\n            isFullSize = coolrisOpt.layoutOpts.isFullSize;\r\n        }\r\n        // 너비를 넓혀주는 옵션이 있을 때 bi 템플릿을 넣어준다.\r\n        if (isFullSize) coolTemplate.bi = this.risService.getHeaderBiTemplate(this.serviceName, this.gaMeasurementId);\r\n        // dot에 template을 준다.\r\n        // @ts-ignore\r\n        const coolrisTemplateFn = this.doT.template(this.risService.getGnbTemplate(coolTemplate));\r\n        $('[data-name=coolrisGnbArea]').html(coolrisTemplateFn({isLogin: isLogin, isFullSize: isFullSize}));\r\n\r\n        // 로그인 드롭다운\r\n        this.dropdownToggle('coolris-profile-btn', 'coolris-profile-dropdown', 'gnb_my');\r\n        this.dropdownOnOff('coolris-profile-dropdown', this.targetProfileCheck);\r\n\r\n        // 더보기 드롭다운\r\n        // this.dropdownToggle('coolris-more-btn', 'coolris-more-dropdown', 'gnb_more');\r\n        // this.dropdownOnOff('coolris-more-dropdown', this.targetMoreCheck);\r\n\r\n        // 이벤트\r\n        this.onLoginOutEvents(coolrisOpt);\r\n\r\n        // 로그인에 되어 있다면 내 영역 데이터 로드 및 랜더\r\n        if (isLogin && this.accessToken) {\r\n            const profileResult = await this.loadSettingMyArea();\r\n            if (!profileResult.result) {\r\n                return;\r\n            }\r\n            this.socketInit(profileResult.data.idx);\r\n        }\r\n    }\r\n\r\n    getCoolTemplate(): CoolTemplate {\r\n        return  {\r\n            login: this.risService.getLoginTemplate(this.serviceName, this.gaMeasurementId),\r\n            menu: this.risService.getGnbMenuTemplate(this.serviceName, this.gaMeasurementId),\r\n            more: '',\r\n            point: this.risService.getPointTemplate(this.serviceName, this.gaMeasurementId),\r\n            beforeLogin: this.risService.getBeforeLoginTemplate(),\r\n            topBanner: this.risService.getTopBannerTemplate(this.serviceName, this.gaMeasurementId)\r\n        };\r\n    }\r\n\r\n    /**\r\n     *  쿨스쿨 푸터 생성 함수\r\n     */\r\n    footerStart(coolrisOpt: CoolrisOpts | any = undefined) {\r\n        const options: any = this.initOption(coolrisOpt);\r\n        options.gaOpts.gaMeasurementId = options.gaOpts.gaMeasurementId ? options.gaOpts.gaMeasurementId : 'UA-92421532-1';\r\n        this.setGoogleCode(options); // 구글 ID적용, 구글 코드 함수 적용\r\n\r\n        // interface footerTemplate에 템플릿 주기\r\n        const footerTemplate = {\r\n            bi: this.risService.getBiTemplate(this.serviceName, this.gaMeasurementId),\r\n            quickMenu: this.risService.getQuickMenuTemplate(),\r\n            link: this.risService.getLinkTemplate(this.serviceName, this.gaMeasurementId),\r\n            info: this.risService.getInfoTemplate()\r\n        };\r\n\r\n        // dot에 template을 준다.\r\n        // @ts-ignore\r\n        const coolrisTemplateFn = this.doT.template(this.risService.getFooterTemplate(footerTemplate));\r\n        $('#coolrisFooter').html(coolrisTemplateFn());\r\n\r\n        this.eventDropdownAndQuickMenu();\r\n    }\r\n\r\n    // 로그인 드롭다운을 끌때 프로필 버튼을 클릭했는지 체크\r\n    targetProfileCheck(target: string) {\r\n        let isChecked = false;\r\n        switch (target) {\r\n            case 'profile-name':\r\n                isChecked = true;\r\n                break;\r\n            case 'profile-img':\r\n                isChecked = true;\r\n                break;\r\n            case 'coolris-profile-btn':\r\n                isChecked = true;\r\n                break;\r\n        }\r\n        return isChecked;\r\n    }\r\n\r\n    // 더보기 드롭다운을 끌때 더보기 버튼 클릭하는지 체크\r\n    targetMoreCheck(target: string) {\r\n        let isChecked = false;\r\n        if (target === 'coolris-more-btn') {\r\n            isChecked = true;\r\n        }\r\n        return isChecked;\r\n    }\r\n\r\n    // 더보기 드롭다운을 끌때 더보기 버튼 클릭하는지 체크\r\n    targetAlarmCheck(target: string) {\r\n        let isChecked = false;\r\n        switch (target) {\r\n            case 'coolris-alarm-btn':\r\n                isChecked = true;\r\n                break;\r\n            case 'coolris-alarm-img':\r\n                isChecked = true;\r\n                break;\r\n        }\r\n        return isChecked;\r\n    }\r\n\r\n    isSlideMove: boolean = true;\r\n\r\n    // 탑배너 슬라이드 이벤트\r\n    topBannerSlideEvent() {\r\n        const topBanner = `div[data-name='topBanner']`;\r\n        const topBannerPaging = $(topBanner).find('.topbanner-paging');\r\n        const topBannerPagingNum = topBannerPaging.find('li').length;\r\n\r\n        // 처음 랜덤으로 슬라이드 보여주기\r\n        this.topBannerSlideManager(0);\r\n        // this.topBannerSlideManager(this.getRandomeNum(topBannerPagingNum - 1));\r\n\r\n        const autoSlideFnc = () => {\r\n            for (let i = 0; i < topBannerPagingNum; i++) {\r\n                if (topBannerPaging.find(`li:eq(${i})`).find('span[data-name=\"topbannerPaging\"]').hasClass('on')) {\r\n                    let clickNum = i + 1;\r\n                    if (clickNum >= topBannerPagingNum) {\r\n                        clickNum = 0;\r\n                    }\r\n                    this.topBannerSlideManager(clickNum);\r\n                }\r\n            }\r\n        };\r\n\r\n        let autoSlideInterval = setInterval(autoSlideFnc, 5000);\r\n\r\n        for (let i = 0; i < topBannerPagingNum; i++) {\r\n            topBannerPaging.find(`li:eq(${i})`).find('span[data-name=\"topbannerPaging\"]').click(() => {\r\n                if (this.isSlideMove) {\r\n                    clearInterval(autoSlideInterval);\r\n                    autoSlideInterval = setInterval(autoSlideFnc, 5000);\r\n                    this.topBannerSlideManager(i);\r\n                }\r\n            })\r\n        }\r\n\r\n        $(topBanner).on('mouseenter', () => {\r\n            if (this.isSlideMove) {\r\n                clearInterval(autoSlideInterval);\r\n                autoSlideInterval = setInterval(autoSlideFnc, 5000);\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n\r\n    // topbanner 애니메이션\r\n    topBannerSlideManager(slideNum: number) {\r\n        this.isSlideMove = false;\r\n        const topBanner = `div[data-name='topBanner']`;\r\n        const topBannerList = $(topBanner).find('.topbanner-list');\r\n        const topBannerPaging = $(topBanner).find('.topbanner-paging');\r\n        const topBannerListH = 79;\r\n        if (!topBannerList.is(':animated')) {\r\n            topBannerList.stop().animate({'top': - (slideNum * topBannerListH)}, 600, () => {\r\n                this.isSlideMove = true;\r\n                topBannerPaging.find('span[data-name=\"topbannerPaging\"]').removeClass('on');\r\n                topBannerPaging.find('li:eq('+ slideNum +')').find('span[data-name=\"topbannerPaging\"]').addClass('on');\r\n            });\r\n        }\r\n    }\r\n\r\n    // topbanner close\r\n    topbannerCloseEvent() {\r\n        $(\"p[data-name='topbannerClose']\").click(() => {\r\n            $(\"div[data-name='topBanner']\").css('display', 'none');\r\n            this.setCookie('topbanner', 'yes', 1);\r\n        })\r\n    }\r\n\r\n    protected async loginCheck() {\r\n        if(this.loginInfo.result) {\r\n            return this.loginInfo;\r\n        }\r\n        this.loginInfo.result = false;\r\n        this.loginInfo.data = undefined;\r\n        let result = {result: false, coolid: ''} as any;\r\n        try {\r\n            result = await $.ajax({\r\n                method: 'GET',\r\n                dataType: 'jsonp',\r\n                url: `${constants.memberUrl}/loginCheck`\r\n            });\r\n        } catch (e) {\r\n            return {result: false};\r\n        }\r\n\r\n        if (!result || !result.coolid) {\r\n            return {result: false};\r\n        }\r\n        this.loginInfo.result = true;\r\n        this.loginInfo.data = result;\r\n        return this.loginInfo;\r\n    }\r\n\r\n    async loadProfileResult(accessToken: string): Promise<CCResult<Member>> {\r\n        let response: CCResult<Member>;\r\n        try {\r\n            response = await $.ajax(`${constants.searchUrl}/api/cool/_searchMemberByAccessToken/${accessToken}`);\r\n        } catch (e) {\r\n            response = {result: false};\r\n        }\r\n        return response;\r\n    }\r\n\r\n    settingProfile(profileData: any) {\r\n        $('[data-name=imgProfileImg]').attr('src', profileData.profileImage);\r\n        $('[data-name=spanProfileName]').html(profileData.name);\r\n        $('[data-name=spanPoint]').html(this.addComma(profileData.point));\r\n    }\r\n\r\n    async loadAlarmMessage(coolIdx: number) {\r\n        let response;\r\n        try {\r\n            response = await $.ajax(`${constants.searchUrl}/api/coolMessage/_search/coolIdx/${coolIdx}`);\r\n        } catch (e) {\r\n            response = {result: false}\r\n        }\r\n        return response;\r\n    }\r\n\r\n    /**\r\n     * 쿨스쿨 로그인 페이지로 이동\r\n     * @param {string} clientId\r\n     * @param {string} action (선택)\r\n     * @param env 개발 URL 사용여부\r\n     */\r\n    goDefaultCoolLogin(clientId = '', action = '') {\r\n        const COOL_LOGIN_CALLBACK_URL = window.location.protocol + '//' + window.location.host + '/callback';\r\n        const COOL_LOGIN_URL = `${constants.memberUrl}/login`;\r\n        const param = {\r\n            client_id: clientId,\r\n            redirect_uri: COOL_LOGIN_CALLBACK_URL,\r\n            redirect_uri_next: window.location.href,\r\n            do_action: action,\r\n        };\r\n        switch(this.getHost()) {\r\n            case 't-fun': // t-fun\r\n                param.redirect_uri = 'http://t-fun.coolschool.co.kr/oauth_cool.php';\r\n                param.redirect_uri_next = 'http://t-fun.coolschool.co.kr/happy_member_login.php?mode=logout';\r\n                break;\r\n            case 'coolmarket': // coolmarket\r\n                param.redirect_uri = 'https://coolmarket.coolschool.co.kr/api/coolschool/callbackLogin.asp';\r\n                param.redirect_uri_next = 'https://coolmarket.coolschool.co.kr';\r\n                break;\r\n            case 't-mall': // t-mall\r\n                param.redirect_uri = 'https://t-mall.coolschool.co.kr/api/coolschool/callbackLogin.asp';\r\n                param.redirect_uri_next = 'https://t-mall.coolschool.co.kr/';\r\n                break;\r\n            case 'coolmova': // coolmova\r\n                param.redirect_uri = 'https://coolmova.coolschool.co.kr:443/jiran/api/login';\r\n                break;\r\n            case 'eduspace':\r\n                param.redirect_uri = 'https://eduspace.coolschool.co.kr/main.do';\r\n                break;\r\n        }\r\n        let loginURL = COOL_LOGIN_URL;\r\n        let paramStr = $.param(param);\r\n        if (param.redirect_uri_next.search('&') === -1 && action !== '') {\r\n            paramStr = paramStr.replace('&do_action=', '?do_action=');\r\n        }\r\n        window.location.href = `${loginURL}?${paramStr}`;\r\n    }\r\n\r\n    goCoolLogin() {\r\n        const CLIENT_ID = this.getClientId();\r\n        this.goDefaultCoolLogin(CLIENT_ID);\r\n    }\r\n\r\n    async logout(logoutOpts?: LogoutOpts | any): Promise<boolean> {\r\n        const logoutUrl = `${constants.memberUrl}/logout?client_id=:client_id`;\r\n        const logoutProc = `${constants.memberUrl}/logoutProc`;\r\n        const setting = {\r\n            url: logoutUrl.replace(':client_id', this.getClientId()),\r\n            type: 'GET',\r\n            contentType: \"application/json\",\r\n            dataType: \"jsonp\",\r\n        };\r\n        const settingResponse = await $.ajax(setting);\r\n        if (settingResponse.result === 'success') {\r\n            this.setCookie('accessToken', '', -1 as any);\r\n            this.setCookie('client_id', '', -1 as any);\r\n\r\n            this.logoutForOtherSite(); // 외부의 다른 사이트들 로그아웃을 위함\r\n\r\n            logoutOpts = logoutOpts || {};\r\n            if(logoutOpts.isLogoutProc === undefined || logoutOpts.isLogoutProc === true) {\r\n                if (!logoutOpts.logoutProcUrl) {\r\n                    await $.get(`//${window.location.host}/logoutProc`);\r\n                } else {\r\n                    await $.get(`${logoutOpts.logoutProcUrl}/logoutProc`);\r\n                }\r\n            }\r\n            if (logoutOpts.isRestoreLocation === undefined || logoutOpts.isRestoreLocation === true) { // 로그아웃 후 있던 페이지에 머무를 것이냐 말것이냐\r\n                location.href = `//${window.location.host}${window.location.pathname}`;\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    logoutForOtherSite() {\r\n        const clientId = this.getClientId();\r\n        switch(this.getHost()) {\r\n            case 't-fun': // t-fun\r\n                location.href = 'http://t-fun.coolschool.co.kr/happy_member_login.php?mode=logout';\r\n                break;\r\n            case 'coolmarket': // coolmarket\r\n                location.href = 'https://coolmarket.coolschool.co.kr//member/logout.asp';\r\n                break;\r\n            case 't-mall': // t-mall\r\n                break;\r\n            case 'coolmova': // coolmova\r\n                break;\r\n        }\r\n    }\r\n\r\n    // 회원가입\r\n    join() {\r\n        const CLIENT_ID = this.getClientId();\r\n        const form = document.createElement('form');                                     // form 엘리멘트 생성\r\n        form.setAttribute('method', 'post');                                   // method 속성 설정\r\n        form.setAttribute('action', constants.memberUrl);       // action 속성 설정\r\n        document.body.appendChild(form);                                                          // 현재 페이지에 form 엘리멘트 추가\r\n        const insert1 = document.createElement(\"input\");                                 // input 엘리멘트 생성\r\n        const insert2 = document.createElement(\"input\");\r\n        insert1.setAttribute('name', 'svcid');                                 // clidentId\r\n        insert1.setAttribute('value', CLIENT_ID);\r\n        insert2.setAttribute('name', 'redirect_uri');                          // 완료 후 돌아올 url\r\n        insert2.setAttribute('value', window.location.href);\r\n        form.appendChild(insert1);\r\n        form.appendChild(insert2);\r\n        form.submit();\r\n    }\r\n\r\n    /**\r\n     * 로그인, 회원가입, 로그아웃 이벤트 등록\r\n     */\r\n    protected onLoginOutEvents(coolrisOpts: CoolrisOpts = undefined) {\r\n        // 로그인\r\n        $(\"[data-name='aCoolLogin']\").click(() => {\r\n            gtag('event', this.serviceName, {'event_category': 'link', 'event_label': 'gnb_login', 'send_to': this.gaMeasurementId});\r\n            this.goCoolLogin();\r\n        });\r\n\r\n        // 회원가입\r\n        $(\"[data-name='aCoolJoin']\").click(() => {\r\n            gtag('event', this.serviceName, {'event_category': 'link', 'event_label': 'gnb_join', 'send_to': this.gaMeasurementId});\r\n            this.join();\r\n        });\r\n\r\n        // 로그아웃\r\n        let logoutResult;\r\n        $(\"[data-name='spanLogout']\").click(() => {\r\n            gtag('event', this.serviceName, {'event_category': 'link', 'event_label': 'gnb_logout', 'send_to': this.gaMeasurementId});\r\n\r\n            /*\r\n            * todo: 로그아웃 할때 로그아웃 이벤트 발생시켜 다른 열려있는 서비스들 로그아웃 처리\r\n            *  소켓 서버에 이벤트 받은 서버로는 이벤트 발송 안하게 로직 추가후에 아래 주석 제거해야함.\r\n            * */\r\n            // this.socketService.emitLogout();\r\n\r\n            if(coolrisOpts && coolrisOpts.logoutOpts) {\r\n                logoutResult = this.logout(coolrisOpts.logoutOpts);\r\n            } else {\r\n                logoutResult = this.logout();\r\n            }\r\n            if(coolrisOpts && coolrisOpts.logoutOpts && coolrisOpts.logoutOpts.callbackLogoutComplete) {\r\n                coolrisOpts.logoutOpts.callbackLogoutComplete(logoutResult);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    getClientId() {\r\n        const host = this.getHost();\r\n        let clientId = (constants as any).clientIds[host];\r\n        if(!clientId && console) {\r\n            console.warn('can`t not find clientId');\r\n        }\r\n        return clientId;\r\n    }\r\n\r\n    /**\r\n     *  알람 데이터 로드 및 세팅\r\n     */\r\n    async loadSettingMyArea(): Promise<CCResult<Member>> {\r\n        let coolAlarmItems = [];\r\n        // 프로필 세팅\r\n        const profileResult = await this.loadProfileResult(this.accessToken);\r\n        if (!profileResult.result) {\r\n            return;\r\n        }\r\n        let profileData = profileResult.data;\r\n        this.settingProfile(profileData);\r\n        // 알림 세팅\r\n        const coolAlarmResponse = await this.loadAlarmMessage(profileData.idx);\r\n        if (!coolAlarmResponse.result) {\r\n            return;\r\n        }\r\n        coolAlarmItems = coolAlarmResponse.data;\r\n        // @ts-ignore\r\n        const alarmTemplateFn = this.doT.template(this.risService.getAlarmTemplate(this.serviceName, this.gaMeasurementId));\r\n        $(\"[data-name='divAlarmArea']\").html(alarmTemplateFn({\r\n            coolAlarmItems: coolAlarmItems,\r\n            toDateYmdFormat: this.toDateYmdFormat\r\n        }));\r\n\r\n        // 알람 드롭다운 이벤트\r\n        this.dropdownToggle('coolris-alarm-btn', 'coolris-alarm-dropdown', 'gnb_alarm');\r\n        this.dropdownOnOff('coolris-alarm-dropdown', this.targetAlarmCheck);\r\n    }\r\n\r\n    /**\r\n     *  탑배너 데이터 가져오기\r\n     */\r\n    async getBannerData() {\r\n        const setting = {\r\n            url: '//samstory.coolschool.co.kr/api/mainViewList?views=topBandBanner',\r\n            type: 'GET'\r\n        };\r\n        return $.ajax(setting).then(response => {return response.data.topBandBannerList});\r\n    }\r\n\r\n    /**\r\n     *  탑배너 데이터 로드 및 세팅\r\n     */\r\n    async loadSettingTopBanner() {\r\n        const response = await this.getBannerData();\r\n        if (!response || response.length === 0) {\r\n            return;\r\n        }\r\n\r\n        // 배너 기한 체크\r\n        const nowDate = new Date();\r\n        response.bannerData = response.filter((k: any) => {\r\n            if (nowDate >= new Date(k.startDate) && nowDate <= new Date(k.endDate)) {\r\n                return k;\r\n            }\r\n        });\r\n\r\n        this.suffle(response.bannerData);\r\n        if (!response.bannerData || response.bannerData.length === 0) {\r\n            return;\r\n        }\r\n        // @ts-ignore\r\n        const topBannerTemplateFn = this.doT.template(this.risService.getTopBannerTemplate(this.serviceName, this.gaMeasurementId));\r\n        $(\"[data-name='divTopBannerArea']\").html(topBannerTemplateFn({\r\n            coolTopBannerItems: response.bannerData,\r\n        }));\r\n\r\n        // 탑배너 슬라이드 이벤트\r\n        this.topBannerSlideEvent();\r\n        // 탑배너 닫기 이벤트\r\n        this.topbannerCloseEvent();\r\n    }\r\n\r\n    async loginResultPromise() {\r\n        if(this.loginInfo.result) {\r\n            return this.loginInfo;\r\n        } else {\r\n            return this.loginCheck();\r\n        }\r\n    }\r\n\r\n    private socketInit(idx: any) {\r\n\r\n        const param = {coolIdx:idx};\r\n\r\n        this.socketService = new SocketService(param);\r\n        this.socketService.connection();\r\n    }\r\n}\r\n","declare global {\r\n    interface Window {\r\n        ChannelIO?: IChannelIO;\r\n        ChannelIOInitialized?: boolean;\r\n    }\r\n}\r\n\r\ninterface IChannelIO {\r\n    c?: (...args: any) => void;\r\n    q?: [methodName: string, ...args: any[]][];\r\n    (...args: any): void;\r\n}\r\n\r\ninterface BootOption {\r\n    appearance?: string;\r\n    customLauncherSelector?: string;\r\n    hideChannelButtonOnBoot?: boolean;\r\n    hidePopup?: boolean;\r\n    language?: string;\r\n    memberHash?: string;\r\n    memberId?: string;\r\n    pluginKey: string;\r\n    profile?: Profile;\r\n    trackDefaultEvent?: boolean;\r\n    trackUtmSource?: boolean;\r\n    unsubscribe?: boolean;\r\n    unsubscribeEmail?: boolean;\r\n    unsubscribeTexting?: boolean;\r\n    zIndex?: number;\r\n}\r\n\r\ninterface Callback {\r\n    (error: Error | null, user: CallbackUser | null): void;\r\n}\r\n\r\ninterface CallbackUser {\r\n    alert: number\r\n    avatarUrl: string;\r\n    id: string;\r\n    language: string;\r\n    memberId: string;\r\n    name?: string;\r\n    profile?: Profile | null;\r\n    tags?: string[] | null;\r\n    unsubscribeEmail: boolean;\r\n    unsubscribeTexting: boolean;\r\n}\r\n\r\ninterface UpdateUserInfo {\r\n    language?: string;\r\n    profile?: Profile | null;\r\n    profileOnce?: Profile;\r\n    tags?: string[] | null;\r\n    unsubscribeEmail?: boolean;\r\n    unsubscribeTexting?: boolean;\r\n}\r\n\r\ninterface Profile {\r\n    [key: string]: string | number | boolean | null | undefined;\r\n}\r\n\r\ninterface FollowUpProfile {\r\n    name?: string | null;\r\n    mobileNumber?: string | null;\r\n    email?: string | null;\r\n}\r\n\r\ninterface EventProperty {\r\n    [key: string]: string | number | boolean | null | undefined;\r\n}\r\n\r\ntype Appearance = 'light' | 'dark' | 'system' | null;\r\n\r\nexport class ChannelTalkService {\r\n    loadScript() {\r\n        (function(){var w=window;if(w.ChannelIO){return w.console.error(\"ChannelIO script included twice.\");}var ch:IChannelIO=function(){ch.c?.(arguments);};ch.q=[];ch.c=function(args){ch.q?.push(args);};w.ChannelIO=ch;function l(){if(w.ChannelIOInitialized){return;}w.ChannelIOInitialized=true;var s=document.createElement(\"script\");s.type=\"text/javascript\";s.async=true;s.src=\"https://cdn.channel.io/plugin/ch-plugin-web.js\";var x=document.getElementsByTagName(\"script\")[0];if(x.parentNode){x.parentNode.insertBefore(s,x);}}if(document.readyState===\"complete\"){l();}else{w.addEventListener(\"DOMContentLoaded\",l);w.addEventListener(\"load\",l);}})();\r\n    }\r\n\r\n    boot(option: BootOption, callback?: Callback) {\r\n        window.ChannelIO?.('boot', option, callback);\r\n    }\r\n\r\n    shutdown() {\r\n        window.ChannelIO?.('shutdown');\r\n    }\r\n\r\n    showMessenger() {\r\n        window.ChannelIO?.('showMessenger');\r\n    }\r\n\r\n    hideMessenger() {\r\n        window.ChannelIO?.('hideMessenger');\r\n    }\r\n\r\n    openChat(chatId?: string | number, message?: string) {\r\n        window.ChannelIO?.('openChat', chatId, message);\r\n    }\r\n\r\n    track(eventName: string, eventProperty?: EventProperty) {\r\n        window.ChannelIO?.('track', eventName, eventProperty);\r\n    }\r\n\r\n    onShowMessenger(callback: () => void) {\r\n        window.ChannelIO?.('onShowMessenger', callback);\r\n    }\r\n\r\n    onHideMessenger(callback: () => void) {\r\n        window.ChannelIO?.('onHideMessenger', callback);\r\n    }\r\n\r\n    onBadgeChanged(callback: (unread: number, alert: number) => void) {\r\n        window.ChannelIO?.('onBadgeChanged', callback);\r\n    }\r\n\r\n    onChatCreated(callback: () => void) {\r\n        window.ChannelIO?.('onChatCreated', callback);\r\n    }\r\n\r\n    onFollowUpChanged(callback: (profile: FollowUpProfile) => void) {\r\n        window.ChannelIO?.('onFollowUpChanged', callback);\r\n    }\r\n\r\n    onUrlClicked(callback: (url: string) => void) {\r\n        window.ChannelIO?.('onUrlClicked', callback);\r\n    }\r\n\r\n    clearCallbacks() {\r\n        window.ChannelIO?.('clearCallbacks');\r\n    }\r\n\r\n    updateUser(userInfo: UpdateUserInfo, callback?: Callback) {\r\n        window.ChannelIO?.('updateUser', userInfo, callback);\r\n    }\r\n\r\n    addTags(tags: string[], callback?: Callback) {\r\n        window.ChannelIO?.('addTags', tags, callback);\r\n    }\r\n\r\n    removeTags(tags: string[], callback?: Callback) {\r\n        window.ChannelIO?.('removeTags', tags, callback);\r\n    }\r\n\r\n    setPage(page: string) {\r\n        window.ChannelIO?.('setPage', page);\r\n    }\r\n\r\n    resetPage() {\r\n        window.ChannelIO?.('resetPage');\r\n    }\r\n\r\n    showChannelButton() {\r\n        window.ChannelIO?.('showChannelButton');\r\n    }\r\n\r\n    hideChannelButton() {\r\n        window.ChannelIO?.('hideChannelButton');\r\n    }\r\n\r\n    setAppearance(appearance: Appearance) {\r\n        window.ChannelIO?.('setAppearance', appearance);\r\n    }\r\n}\r\n","import {RisService} from \"./ris-service\";\r\nimport {constants, FooterTemplate} from '../coolris-common';\r\n\r\nexport class CommsrisService extends RisService {\r\n\r\n    getGnbMenuTemplate(serviceName: string, gaMeasurementId: string): string {\r\n        return `\r\n            <style>\r\n                ul[coolrisGnbMenu] {\r\n                    float: left;\r\n                }\r\n                ul[coolrisGnbMenu]:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n                ul[coolrisGnbMenu] li {\r\n                    float: left;\r\n                    margin-right: 28px;\r\n                    position: relative;\r\n                }\r\n                ul[coolrisGnbMenu] li:last-child {\r\n                    margin-right: 0;\r\n                }\r\n                ul[coolrisGnbMenu] li:after {\r\n                    content: '';\r\n                    display: block;\r\n                    width: 1px;\r\n                    height: 12px;\r\n                    background-color: #dedede;\r\n                    position: absolute;\r\n                    right: -15px;\r\n                    top: 50%;\r\n                    transform: translateY(-50%);\r\n                }\r\n                ul[coolrisGnbMenu] li:last-child:after {\r\n                    display: none;\r\n                }\r\n                ul[coolrisGnbMenu] li a {\r\n                    font-size: 15px !important;\r\n                    line-height: 25px;\r\n                    color: #000000;\r\n                    text-decoration: none;\r\n                    display: block;\r\n                }\r\n            </style>\r\n            <ul coolrisGnbMenu>\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_coolmsg', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"${constants.siteUrl.coolmessengerUrl}\" target=\"_blank\">쿨메신저</a>\r\n                </li>\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_coolAlimi', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"${constants.siteUrl.coolalimiUrl}\" target=\"_blank\">쿨알리미</a>\r\n                </li>\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_sms', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"${constants.siteUrl.coolsmsUrl}\" target=\"_blank\">문자</a>\r\n                </li>\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_coolAlimTalk', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"${constants.siteUrl.coolalimTalkUrl}\" target=\"_blank\">쿨알림톡</a>\r\n                </li>\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_coolendar', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"${constants.siteUrl.coolendarUrl}\" target=\"_blank\">학사일정</a>\r\n                </li>\r\n            </ul>\r\n        `\r\n    }\r\n\r\n    getMoreTemplate(serviceName: string, gaMeasurementId: string): string {\r\n        return `\r\n            <style>\r\n                div[coolrisMore] {\r\n                    position: relative;\r\n                    float: left;\r\n                    margin-top: -2px;\r\n                    line-height: 1;\r\n                }\r\n                div[coolrisMore] .coolris-more-dropdown a:hover {\r\n                    text-decoration: underline;\r\n                }\r\n                div[coolrisMore] .coolris-more-dropdown a { color: #000000; }\r\n                div[coolrisMore] .coolris-more-dropdown {\r\n                    display: none;\r\n                    border: 1px solid #545454;\r\n                    font-family: 'dotum', sans-serif;\r\n                    font-size: 12px;\r\n                    line-height: 25px;\r\n                    width: 556px;\r\n                    position: absolute;\r\n                    background-color: #ffffff;\r\n                    left: 0;\r\n                    top: 33px;\r\n                    z-index: 9999;\r\n                    transform: translateX(-50%);\r\n                }\r\n                div[coolrisMore] .coolris-more-dropdown.show {\r\n                    display: block;\r\n                }\r\n                div[coolrisMore] .coolris-more-btn {\r\n                    cursor: pointer;\r\n                    position: relative;\r\n                    padding-right: 20px;\r\n                    font-size: 14px;\r\n                }\r\n                div[coolrisMore] .coolris-more-btn:after {\r\n                    content: '';\r\n                    display: block;\r\n                    position: absolute;\r\n                    right: 0;\r\n                    top: 50%;\r\n                    margin-top: -4px;\r\n                    transition: transform 0.3s;\r\n                    background-image: url(//update.coolmessenger.com/_ImageServer/coolschool/resources/images/more-arrow.png);\r\n                    background-repeat: no-repeat;\r\n                    width: 13px;\r\n                    height: 8px;\r\n                }\r\n                div[coolrisMore] .coolris-more-dropdown.show ~ .coolris-more-btn:after {\r\n                    transform: rotate(-180deg);\r\n                    background-image: url(//update.coolmessenger.com/_ImageServer/coolschool/resources/images/more-arrow-on.png);\r\n                }\r\n                div[coolrisMore] .coolris-more-dropdown.show ~ .coolris-more-btn {\r\n                    color: #00a1e4;\r\n                }\r\n                div[coolrisMore] ul:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n                div[coolrisMore] ul {\r\n                    display: table;\r\n                    width: 100%;\r\n                }\r\n                div[coolrisMore] ul li {\r\n                    width: 20%;\r\n                    padding-left: 15px;\r\n                    border-right: 1px solid #e1e1e1;\r\n                    display: table-cell;\r\n                }\r\n                div[coolrisMore] ul li:last-child {\r\n                    border-right: 0;\r\n                }\r\n                div[coolrisMore] ul li h4 {\r\n                    color: #000000;\r\n                    margin-top: 16px !important;\r\n                    font-size: 12px !important;\r\n                    line-height: 25px;\r\n                }\r\n                div[coolrisMore] ul li a {\r\n                    color: #8d8d8d !important;\r\n                    display: block;\r\n                    margin-top: 3px;\r\n                    width: 100%;\r\n                    font-size: 12px !important;\r\n                }\r\n                div[coolrisMore] ul li a:visited, div[coolrisMore] ul li a:focus, div[coolrisMore] ul li a:hover {\r\n                    color: #8d8d8d !important;\r\n                }\r\n                div[coolrisMore] div.coolris-more-dropdown div {\r\n                    border-top: 1px solid #e1e1e1;\r\n                    height: 36px;\r\n                    line-height: 36px;\r\n                    padding: 0 15px;\r\n                }\r\n                div[coolrisMore] div.coolris-more-dropdown div:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n                div[coolrisMore] div a {\r\n                    float: left;\r\n                }\r\n                div[coolrisMore] div span {\r\n                    float: right;\r\n                    cursor: pointer;\r\n                }\r\n            </style>\r\n            <div coolrisMore>\r\n                <div class=\"coolris-more-dropdown\">\r\n                    <ul>\r\n                        <li>\r\n                            <h4>학교업무</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_coolmsg', 'send_to': '${gaMeasurementId}'});\" href=\"//school.coolmessenger.com/\" target=\"_blank\">쿨메신저</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_sms', 'send_to': '${gaMeasurementId}'});\" href=\"//coolsms.coolmessenger.com/\" target=\"_blank\">문자</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_coolendar', 'send_to': '${gaMeasurementId}'});\" href=\"//coolendar.coolmessenger.com\" target=\"_blank\">학사일정</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_banner', 'send_to': '${gaMeasurementId}'});\" href=\"//school.coolbooks.co.kr/\" target=\"_blank\">학교간행물</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_schoolp', 'send_to': '${gaMeasurementId}'});\" href=\"//schoolp.co.kr/store/placard\" target=\"_blank\">현수막/배너</a>\r\n                        </li>\r\n                        <li>\r\n                            <h4>교사생활</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_samstory', 'send_to': '${gaMeasurementId}'});\" href=\"//samstory.coolschool.co.kr/\" target=\"_blank\">블로그</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_books', 'send_to': '${gaMeasurementId}'});\" href=\"//coolbooks.coolschool.co.kr/\" target=\"_blank\">책</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_meeting', 'send_to': '${gaMeasurementId}'});\" href=\"//cooledu.coolschool.co.kr/cooledulub/trainingList#ing\" target=\"_blank\">모임</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_mova', 'send_to': '${gaMeasurementId}'});\" href=\"//coolmova.coolschool.co.kr/\" target=\"_blank\">안심번호</a>\r\n                        </li>\r\n                        <li>\r\n                            <h4>학교연수</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu', 'send_to': '${gaMeasurementId}'});\" href=\"//cooledu.coolschool.co.kr/\" target=\"_blank\">원격연수</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_platform', 'send_to': '${gaMeasurementId}'});\" href=\"//cooledu.coolschool.co.kr/cooledulub/trainingList#ing\" target=\"_blank\">집합연수</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_pama', 'send_to': '${gaMeasurementId}'});\" href=\"//coolpama.coolschool.co.kr/\" target=\"_blank\">학부모연수</a>\r\n                        </li>\r\n                        <li>\r\n                            <h4>학교마켓</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_market', 'send_to': '${gaMeasurementId}'});\" href=\"//coolmarket.coolschool.co.kr/\" target=\"_blank\">교구몰</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_market_tmall', 'send_to': '${gaMeasurementId}'});\" href=\"//t-mall.coolschool.co.kr/\" target=\"_blank\">복지몰</a>\r\n                        </li>\r\n                        <li>\r\n                            <h4>교육이슈</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_news', 'send_to': '${gaMeasurementId}'});\" href=\"//samstory.coolschool.co.kr/zone/story/eduin\" target=\"_blank\">교육뉴스</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edutech', 'send_to': '${gaMeasurementId}'});\" href=\"//www.coolschool.co.kr/edutech\" target=\"_blank\" style=\"margin-bottom: 10px;\">에듀테크스토리</a>\r\n                            <h4>쿨스쿨소식</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_notice', 'send_to': '${gaMeasurementId}'});\" href=\"//www.coolschool.co.kr/news/index\" target=\"_blank\">공지/소식</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_contact', 'send_to': '${gaMeasurementId}'});\" href=\"//www.coolschool.co.kr/messenger/technicalSupport\" target=\"_blank\">문의하기</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_profile', 'send_to': '${gaMeasurementId}'});\" href=\"//www.coolschool.co.kr/profile/search\" target=\"_blank\" style=\"margin-bottom: 22px\">선생님찾기</a>\r\n                        </li>\r\n                    </ul>\r\n                    <div>\r\n                        <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_all_service', 'send_to': '${gaMeasurementId}'});\" href=\"//coolschool.co.kr/allService\" target=\"_blank\">서비스 전체보기</a>\r\n                        <span class=\"dropdown-close\">닫기</span>\r\n                    </div>\r\n                </div>\r\n                <span class=\"coolris-more-btn\">\r\n                    더보기\r\n                </span>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    // footer 템플릿\r\n    getFooteremplate(footerTemplate: FooterTemplate) {\r\n        return `\r\n            <style>\r\n                .coolris-footer[coolrisFooter] {\r\n                    border-top: 1px solid #dedede;\r\n                    background-color: #ffffff;\r\n                }\r\n                .coolris-footer[coolrisFooter] * {\r\n                    font-family: \"Dotum\", sans-serif;\r\n                    box-sizing: border-box;\r\n                }\r\n                .coolris-footer[coolrisFooter] .inner {\r\n                    width: 1110px;\r\n                    margin: 0 auto;\r\n                    position: relative;\r\n                    padding-top: 30px;\r\n                    padding-bottom: 30px;\r\n                }\r\n                .coolris-footer[coolrisFooter] .inner:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n                .coolris-footer[coolrisFooter] .inner .left {\r\n                    float: left;\r\n                    width: 277px;\r\n                }\r\n                .coolris-footer[coolrisFooter] .inner .right {\r\n                    width: 833px;\r\n                    float: right;\r\n                }\r\n                @media screen and (max-width: 1150px) {\r\n                    .coolris-footer[coolrisFooter] .inner {\r\n                        width: 100%;\r\n                    }\r\n                    .coolris-footer[coolrisFooter] .inner .left {\r\n                        width: 30%\r\n                    }\r\n                    .coolris-footer[coolrisFooter] .inner .right {\r\n                        width: 70%\r\n                    }\r\n                }\r\n                @media screen and (max-width: 980px) {\r\n                .coolris-footer[coolrisFooter] .inner{padding-top: 20px;}\r\n                    .coolris-footer[coolrisFooter] .inner .left {\r\n                        width: 100%\r\n                    }\r\n                    .coolris-footer[coolrisFooter] .inner .right {\r\n                        width: 100%\r\n                    }\r\n                }\r\n                .coolris-footer[coolrisFooter] .intro {\r\n                    color: #bbbbbb;\r\n                    font-size: 14px;\r\n                    line-height: 24px;\r\n                    margin-bottom: 10px;\r\n                }\r\n                .coolris-footer[coolrisFooter] .intro:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n            </style>\r\n            <div class=\"coolris-footer\" coolrisFooter>\r\n            ${footerTemplate.quickMenu}\r\n                <div class=\"inner\">\r\n                    <div class=\"left\">\r\n                        ${footerTemplate.bi}\r\n                    </div>\r\n                    <div class=\"right\">\r\n                        <div class=\"intro\">\r\n                            ${footerTemplate.link}\r\n                            ${footerTemplate.familySite}\r\n                        </div>\r\n                        ${footerTemplate.info}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    /**\r\n     *  footer BI\r\n     */\r\n    getBiTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                @media screen and (max-width: 1150px) {\r\n                    a[coolrisBi] {\r\n                        display: block;\r\n                        margin: 0 auto 30px;\r\n                        width: 170px;\r\n                    }\r\n                }\r\n                @media screen and (max-width: 980px) {\r\n                    a[coolrisBi] {\r\n                        display: none;\r\n                    }\r\n                }\r\n            </style>\r\n            <a coolrisBi onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'footer_bi', 'send_to': '${gaMeasurementId}'});\" href=\"//www.jirancomms.com/\" target=\"_blank\">\r\n                <img src=\"//update.coolmessenger.com/_ImageServer/samgular/bi-jirancomms.png\" alt=\"image\">\r\n            </a>\r\n        `\r\n    }\r\n\r\n    /**\r\n     *  링크 메뉴\r\n     */\r\n    getLinkTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                div[coolrisLink] {\r\n                    display: inline-block;\r\n                }\r\n                div[coolrisLink] a {\r\n                    margin-right: 35px;\r\n                    position: relative;\r\n                    color: #373737;\r\n                    font-size: 14px;\r\n                    line-height: 24px;\r\n                    text-decoration: none;\r\n                    cursor: pointer;\r\n                }\r\n                div[coolrisLink] a:hover {\r\n                    text-decoration: underline;\r\n                }\r\n                div[coolrisLink] a:after {\r\n                    content: '';\r\n                    display: block;\r\n                    width: 1px;\r\n                    height: 13px;\r\n                    background-color: #bbbbbb;\r\n                    position: absolute;\r\n                    right: -22px;\r\n                    top: 0;\r\n                }\r\n                div[coolrisLink] a:last-child {\r\n                    margin-right: 0;\r\n                }\r\n                div[coolrisLink] a:last-child:after {\r\n                    display: none;\r\n                }\r\n                div[coolrisLink] .web {\r\n                        display: block;\r\n                    }\r\n                div[coolrisLink] .mobile {\r\n                        display: none;\r\n                    }\r\n                @media screen and (max-width: 980px) {\r\n                div[coolrisLink] .web {\r\n                        display: none;\r\n                    }\r\n                div[coolrisLink] .mobile {\r\n                        display: inline-flex;\r\n                    }\r\n                    div[coolrisLink] a, div[coolrisLink] span {\r\n                        margin: 0 10px;\r\n                        text-align: center;\r\n                        border: 1px solid #d1d1d1;\r\n                        min-height: 40px;\r\n                        display: inline-flex;\r\n                        align-items: center;\r\n                        font-size: 13px;\r\n                        color: #797979;\r\n                        padding: 0 24px;\r\n                    }\r\n                    div[coolrisLink] a:after {\r\n                        display: none;\r\n                    }\r\n                    div[coolrisLink] {\r\n                        display: flex;\r\n                        justify-content: center;\r\n                        padding-bottom: 15px;\r\n                    }\r\n                }\r\n            </style>\r\n            <div coolrisLink>\r\n                <div class=\"web\">\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'contactus', 'send_to': '${gaMeasurementId}'});\" href=\"mailto:jc-sale@jiran.com\" target=\"_blank\">광고문의</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'support', 'send_to': '${gaMeasurementId}'});\" href=\"https://school.coolmessenger.com/support/question#qna\" target=\"_blank\">기술문의</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'withyou', 'send_to': '${gaMeasurementId}'});\" href=\"https://withyou.jiran.com\" target=\"_blank\">윤리경영</a>\r\n                </div>\r\n                <div class=\"mobile\">\r\n                    <span style=\"cursor: pointer;\" onClick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'privacy_policy', 'send_to': '${gaMeasurementId}'});\r\n                        window.open('//member.coolmessenger.com/contract/privacy?type=html', 'coolschool_privacy', 'width=500,height=350');\">개인정보처리방침</span>\r\n                    <span style=\"cursor: pointer;\" onClick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'terms_of_service_policy', 'send_to': '${gaMeasurementId}'});\r\n                        window.open('//member.coolmessenger.com/contract/term?type=html', 'terms_of_service_policy', 'width=500,height=350');\">이용약관</span>\r\n                </div>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    /**\r\n     *  사이트 정보\r\n     */\r\n    getInfoTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                section[coolrisInfo] {\r\n                    \r\n                }\r\n                section[coolrisInfo] * {\r\n                    font-size: 12px;\r\n                    line-height: 26px;\r\n                    color: #7b7b7b;\r\n                    font-family: \"Dotum\", sans-serif;\r\n                    margin: 0;\r\n                    padding: 0;\r\n                } \r\n                section[coolrisInfo] p a, section[coolrisInfo] p span {\r\n                    margin-bottom: 0;\r\n                    position: relative;\r\n                }     \r\n                section[coolrisInfo] p > span {\r\n                    display: inline-block;\r\n                    margin-right: 21px;\r\n                }\r\n                section[coolrisInfo] p > span:not(.mobile-span):after {\r\n                    width: 1px;\r\n                    height: 9px;\r\n                    background-color: #d2d2d2;\r\n                    content: '';\r\n                    display: block;\r\n                    position: absolute;\r\n                    right: -10px;\r\n                    top: 50%;\r\n                    transform: translateY(-50%);\r\n                }\r\n                section[coolrisInfo] p > span:last-child:after {\r\n                    display:  none;\r\n                }\r\n                section[coolrisInfo] p > span:last-child {\r\n                    margin-right: 0;\r\n                }\r\n                section[coolrisInfo] .link-box {\r\n                    float: right;\r\n                    padding-right: 15px;\r\n                    margin-top: -9px;\r\n                    display: flex;\r\n                }\r\n                section[coolrisInfo] .link-box a {\r\n                    text-decoration: none;\r\n                }\r\n                section[coolrisInfo] .link-box a:first-child {\r\n                    margin-right: 5px;\r\n                }\r\n                section[coolrisInfo] .web {\r\n                        display: block;\r\n                    }\r\n                section[coolrisInfo] .mobile {\r\n                        display: none;\r\n                    }\r\n                    section[coolrisInfo] .link-box img {\r\n                        width: 51px;\r\n                        height: 51px;\r\n                    }\r\n                @media screen and (max-width: 980px) {\r\n                    section[coolrisInfo] {padding: 0 20px;}\r\n                    section[coolrisInfo] .web {\r\n                        display: none;\r\n                    }\r\n                    section[coolrisInfo] .mobile {\r\n                        display: flex !important;\r\n                        justify-content: center;\r\n                        flex-direction: column;\r\n                        align-items: center;\r\n                        word-break: break-all;\r\n                    }\r\n                    section[coolrisInfo] .mobile .link-box {\r\n                        margin: 27px 0 10px 0;\r\n                        float: none;\r\n                        padding: 0;\r\n                    }\r\n                    section[coolrisInfo] .mobile .text {\r\n                        display: flex;\r\n                        justify-content: flex-start;\r\n                        flex-direction: column;\r\n                    }\r\n                    section[coolrisInfo] .mobile .text a {\r\n                        text-decoration: none;\r\n                    }\r\n                    section[coolrisInfo] .mobile .text span {\r\n                        word-break: break-all;\r\n                    }\r\n                }\r\n            </style>\r\n            <section coolrisInfo>\r\n                <div class=\"web\">\r\n                    <div class=\"link-box\">\r\n                        <a href=\"https://blog.naver.com/jirancomms\" target=\"_blank\">\r\n                            <img src=\"//update.coolmessenger.com/_ImageServer/coolris/ico_blog_big.png\" alt=\"img\" />\r\n                        </a>               \r\n                        <a href=\"https://www.youtube.com/channel/UCOQfhiS4GRhFuHWY-MEZD_Q/featured\" target=\"_blank\">\r\n                            <img src=\"//update.coolmessenger.com/_ImageServer/coolris/ico_youtube_big.png\" alt=\"img\" />\r\n                        </a>            \r\n                    </div>\r\n                    <p><span>대표자 : 안대근</span><span>사업자등록번호 : 764-87-00314</span><span>통신판매업 신고번호 : 제2023-성남수정-0685호</span></p>\r\n                    <p><span>(13453) 경기도 성남시 수정구 금토로80번길 37, 인피니티타워 W동 3층</span><span>대표전화 : <a href=\"tel:1670-4846\">1670-4846</a></span><span>팩스 : 070-7605-2935</span></p>\r\n                    <p><span>개인정보관리책임자 : 박노준</span>\r\n                    <span style=\"cursor: pointer;\" onClick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'privacy_policy', 'send_to': '${gaMeasurementId}'});\r\n                    window.open('//member.coolmessenger.com/contract/privacy?type=html', 'coolschool_privacy', 'width=500,height=350');\">개인정보처리방침</span>\r\n                    <span style=\"cursor: pointer;\" onClick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'terms_of_service_policy', 'send_to': '${gaMeasurementId}'});\r\n                    window.open('//member.coolmessenger.com/contract/term?type=html', 'terms_of_service_policy', 'width=500,height=350');\">이용약관</span></p>\r\n                     <p class=\"web\"><span>© JiranComms. All rights reserved.</span></p>\r\n                 </div>\r\n                \r\n                <div class=\"mobile\">\r\n                    <div class=\"text\">\r\n                        <p>\r\n                            <span>(주) 지란지교컴즈</span>\r\n                            <span class=\"mobile-span\">대표자 : 안대근</span>\r\n                        </p>\r\n                        <p><span class=\"mobile-span\">사업자등록번호 : 764-87-00314</span></p>\r\n                        <p><span class=\"mobile-span\">통신판매업 신고번호 : 제2023-성남수정-0685호</span></p>\r\n                        <p><span class=\"mobile-span\">경기도 성남시 수정구 금토로 80번길 37, 인피니티타워 W동 3층</span></p>\r\n                        <p><span>대표전화 : <a href=\"tel:1670-4846\">1670-4846</a></span><span class=\"mobile-span\">팩스 : 070-7605-2935</span></p>\r\n                        <p><span>개인정보관리책임자 : 박노준</span></p>\r\n                    </div>\r\n                    <div class=\"link-box\">\r\n                        <a href=\"https://blog.naver.com/jirancomms\" target=\"_blank\">\r\n                            <img src=\"//update.coolmessenger.com/_ImageServer/coolris/ico_blog_big.png\" alt=\"img\" />\r\n                        </a>               \r\n                        <a href=\"https://www.youtube.com/channel/UCOQfhiS4GRhFuHWY-MEZD_Q/featured\" target=\"_blank\">\r\n                            <img src=\"//update.coolmessenger.com/_ImageServer/coolris/ico_youtube_big.png\" alt=\"img\" />\r\n                        </a>            \r\n                    </div>\r\n                    <p><span>© JiranComms. All rights reserved.</span></p>\r\n                </div>\r\n            </section>\r\n        `\r\n    }\r\n}\r\n","import {constants, CoolTemplate, FooterTemplate} from \"../coolris-common\";\r\n\r\nexport class RisService {\r\n    // header 템플릿\r\n    getGnbOuterTemplate() {\r\n        return `\r\n            <div data-name=\"divTopBannerArea\"></div>\r\n            <div data-name=\"coolrisGnbArea\"></div>\r\n        `\r\n    }\r\n\r\n    // gnb 템플릿\r\n    getGnbTemplate(coolTemplate: CoolTemplate) {\r\n        return `\r\n            <style>\r\n                @font-face {\r\n                    font-family: 'NanumSquareRound';\r\n                    src: url(\"//resource.coolmessenger.com/coolschool/resources/fonts/nanum-square-round/NanumSquareRoundR.woff2\") format('woff2'),\r\n                    url(\"//resource.coolmessenger.com/coolschool/resources/fonts/nanum-square-round/NanumSquareRoundR.woff\") format('woff'),\r\n                    url(\"//resource.coolmessenger.com/coolschool/resources/fonts/nanum-square-round/NanumSquareRoundR.eot\") format('opentype');\r\n                }\r\n\r\n                body {\r\n                    margin: 0;\r\n                }\r\n                @media screen and (max-width: 980px) {\r\n                    #coolrisGnb > div {\r\n                        display: none;\r\n                    }\r\n                }\r\n                .coolris-gnb[coolrisGnb] {\r\n                    /*line-height: 1;*/\r\n                    font-family: NanumSquareRound, sans-serif;\r\n                    width: 100%;\r\n                    border-bottom: 1px solid #dedede;\r\n                    background-color: #f7f7f7;\r\n                }\r\n                .coolris-gnb[coolrisGnb] h4 {\r\n                    margin: 0;\r\n                }\r\n                .coolris-gnb[coolrisGnb] a {\r\n                    text-decoration: none;\r\n                }\r\n                .coolris-gnb[coolrisGnb] a:hover, .coolris-gnb[coolrisGnb] a:focus, .coolris-gnb[coolrisGnb] a:visited {\r\n                    text-decoration: none;\r\n                    color: #000000;\r\n                }\r\n                .coolris-gnb[coolrisGnb] ul {\r\n                    margin: 0;\r\n                    padding: 0;\r\n                }\r\n                .coolris-gnb[coolrisGnb] li {\r\n                    list-style: none;\r\n                    box-sizing: border-box;\r\n                }\r\n                .coolris-gnb[coolrisGnb] > div:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n                .coolris-gnb[coolrisGnb] > div {\r\n                    width: 980px;\r\n                    margin: 0 auto;\r\n                    padding: 12px 0;\r\n                    box-sizing: border-box;\r\n                    position: relative;\r\n                }\r\n                .coolris-gnb[coolrisGnb] > div.full-size {\r\n                    width: 100%;\r\n                    display: flex;\r\n                    justify-content: flex-end;\r\n                    padding-left: 20px;\r\n                    padding-right: 40px;\r\n                }\r\n                .coolris-gnb[coolrisGnb] > div.full-size .coolris-menu-section {\r\n                    margin-right: 33px;\r\n                }\r\n                .coolris-gnb[coolrisGnb] > div:nth-child(2) {\r\n                    height: 51px;\r\n                }\r\n                .coolris-gnb[coolrisGnb] > div[data-name='divTopBannerArea'] {\r\n                    padding: 0;\r\n                    width: 100%;\r\n                }\r\n                .coolris-gnb[coolrisGnb] .coolris-login-section {\r\n                    float: right;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    line-height: 25px;\r\n                    /*height: 100%;*/\r\n                }\r\n                .coolris-gnb[coolrisGnb] .coolris-login-section .custom-section .btn-custom {\r\n                    font-size: 14px;\r\n                    cursor: pointer;\r\n                    color: #727272;\r\n                    font-weight: bold;\r\n                    position: relative;\r\n                }\r\n                .coolris-gnb[coolrisGnb] .coolris-login-section .custom-section .btn-custom:after {\r\n                    content: '';\r\n                    display: block;\r\n                    position: absolute;\r\n                    width: 1px;\r\n                    height: 14px;\r\n                    background-color: #dcdedf;\r\n                    right: -11px;\r\n                    top: 50%;\r\n                    margin-top: -6px;\r\n                    cursor: default;\r\n                }\r\n                .coolris-gnb[coolrisGnb] .coolris-menu-section {\r\n                    float: left;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    /*height: 100%;*/\r\n                }\r\n            </style>\r\n            <nav class=\"coolris-gnb\" coolrisGnb>\r\n                {{? !it.isFullSize }}\r\n                <div>\r\n                {{?? it.isFullSize == true }}\r\n                <div class=\"full-size\">\r\n                {{?}}\r\n                    {{? it.isFullSize == true }}\r\n                    ${coolTemplate.bi}\r\n                    {{?}}\r\n                    <section class=\"coolris-menu-section\">\r\n                        ${coolTemplate.menu}\r\n                        ${coolTemplate.more}\r\n                    </section>\r\n                    <section class=\"coolris-login-section\">\r\n                        <div class=\"custom-section\"></div>\r\n                        {{? it.isLogin === false }}\r\n                            ${coolTemplate.beforeLogin}\r\n                        {{?? it.isLogin === true }}\r\n                            ${coolTemplate.login}\r\n                            ${coolTemplate.point}\r\n                            <div data-name=\"divAlarmArea\"></div>\r\n                        {{?}}\r\n                    </section>\r\n                </div>\r\n            </nav>\r\n        `\r\n    }\r\n\r\n    // 해더 bi 템플릿\r\n    getHeaderBiTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                a[coolrisHeaderBi] {\r\n                    position: absolute;\r\n                    top: 50%;\r\n                    left: 20px;\r\n                    transform: translateY(-50%);\r\n                }\r\n                a[coolrisHeaderBi] img {\r\n                    width: auto;\r\n                    height: auto;\r\n                    display: block;\r\n                }\r\n                @media screen and (max-width: 1150px) {\r\n                    a[coolrisHeaderBi] {\r\n                        width: 170px;\r\n                        margin: 0 auto;\r\n                        display: block;\r\n                    }   \r\n                }\r\n            </style>\r\n            <a coolrisHeaderBi onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'header_bi', 'send_to': '${gaMeasurementId}'});\" href=\"/\">\r\n                <img src=\"//update.coolmessenger.com/_ImageServer/bi/${serviceName}.png\" alt=\"image\">\r\n            </a>\r\n        `\r\n    }\r\n\r\n    // 로그인 템플릿\r\n    getLoginTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return  `\r\n            <style>\r\n                div[coolrisProfile] {\r\n                    position: relative;\r\n                    display: table-cell;\r\n                    vertical-align: middle;\r\n                    padding-right: 13px;\r\n                }\r\n                div[coolrisProfile] img {\r\n                    vertical-align: middle;\r\n                    border-style: none;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-btn {\r\n                    cursor: pointer;\r\n                    background-color: #f7f7f7;\r\n                    font-size: 14px;\r\n                    display: block;\r\n                    vertical-align: middle;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-btn .profile-name {\r\n                    font-weight: bold;\r\n                    color: #000000;\r\n                    margin-right: 3px;\r\n                    padding-right: 12px;\r\n                    position: relative;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-btn .profile-name:after {\r\n                    background-image: url(//update.coolmessenger.com/_ImageServer/coolschool/resources/images/coolprofile_arrow.png);\r\n                    background-size: 8px 5px;\r\n                    background-position: right center;\r\n                    background-repeat: no-repeat;\r\n                    content: '';\r\n                    display: block;\r\n                    width: 8px;\r\n                    height: 5px;\r\n                    position: absolute;\r\n                    right: 0;\r\n                    top: 50%;\r\n                    margin-top: -2px;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown.show ~ .coolris-profile-btn .profile-name {\r\n                    color: #00a1e4;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown.show ~ .coolris-profile-btn .profile-name:after {\r\n                    transform: rotate(180deg);\r\n                }\r\n                div[coolrisProfile] .coolris-profile-btn .profile-img {\r\n                    border-radius: 50%;\r\n                    height: 20px;\r\n                    width: 20px;\r\n                    margin-right: 3px;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-btn:after {\r\n                    display: none !important;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown {\r\n                    background-color: #ffffff;\r\n                    display: none;\r\n                    padding: 12px 10px 10px;\r\n                    min-width: 182px;\r\n                    border: 1px solid #9b9b9b;\r\n                    border-radius: .25rem;\r\n                    position: absolute;\r\n                    top: 33px;\r\n                    right: 0;\r\n                    z-index: 9999;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown.show {\r\n                    display: block;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown .dropdown-tail {\r\n                    position: absolute;\r\n                    top: -8px;\r\n                    right: 20px;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown p {\r\n                    color: #000000;\r\n                    font-size: 14px;\r\n                    font-family: 'Noto Sans', sans-serif;\r\n                    margin-bottom: 8px;\r\n                    margin-top: 0;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown div {\r\n                    color: #7e7e7e;\r\n                    font-size: 14px;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown p a {\r\n                    color: #000000;\r\n                    font-size: 14px;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown p {\r\n                    text-align: center;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown a img {\r\n                   margin-top: -3px;\r\n                   vertical-align: middle;\r\n                }\r\n                div[coolrisProfile] .coolris-profile-dropdown .logout {\r\n                    height: 28px;\r\n                    line-height: 28px;\r\n                    font-size: 13px;\r\n                    color: #232323;\r\n                    background-color: #fafafa;\r\n                    display: block;\r\n                    border: 1px solid #dedede;\r\n                    text-align: center;\r\n                    margin-top: 17px;\r\n                    cursor: pointer;\r\n                }\r\n            </style>\r\n            <div coolrisProfile>\r\n                <div class=\"coolris-profile-dropdown\">\r\n                    <img class=\"dropdown-tail\" src=\"//update.coolmessenger.com/_ImageServer/coolschool/resources/images/dropbox_tail.png\" alt=\"img\" />\r\n                    <p><a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_myinfo', 'send_to': '${gaMeasurementId}'});\" href=\"${constants.memberUrl}/my/#/\">내 정보 관리</a></p>\r\n                    <span class=\"logout dropdown-close\" data-name=\"spanLogout\">로그아웃</span>\r\n                </div>\r\n                <span class=\"coolris-profile-btn\">\r\n                    <img class=\"profile-img\" data-name=\"imgProfileImg\"\r\n                        src=\"//update.coolmessenger.com/_ImageServer/coolschool/resources/images/default_profile.png\"\r\n                        onerror=\"this.src='//update.coolmessenger.com/_ImageServer/coolschool/resources/images/default_profile.png'\"\r\n                        alt=\"img\" />\r\n                    <span class=\"profile-name\" data-name=\"spanProfileName\"></span>\r\n                </span>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    // gnb 메뉴 템플릿\r\n    getGnbMenuTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                div[coolrisGnbMenu] {\r\n                    float: left;\r\n                    position: absolute;\r\n                    top: 0;\r\n                    left: 0;\r\n                    z-index: 999;\r\n                    padding: 12px 0;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb li {\r\n                    float: left;\r\n                    margin-right: 28px;\r\n                    position: relative;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb li:after {\r\n                    content: '';\r\n                    display: block;\r\n                    width: 1px;\r\n                    height: 12px;\r\n                    background-color: #dedede;\r\n                    position: absolute;\r\n                    right: -15px;\r\n                    top: 50%;\r\n                    transform: translateY(-50%);\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb li:last-child:after {display: none;}\r\n                div[coolrisGnbMenu] .coolris-gnb li:last-child {margin-right:0;}\r\n                div[coolrisGnbMenu] .coolris-gnb li a,\r\n                div[coolrisGnbMenu] .coolris-gnb li span {\r\n                    font-size: 15px !important;\r\n                    line-height: 25px;\r\n                    color: #000000;\r\n                    text-decoration: none;\r\n                    display: block;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb li span:after {\r\n                    content: '';\r\n                    display: block;\r\n                    position: absolute;\r\n                    right: 0;\r\n                    top: 50%;\r\n                    margin-top: -4px;\r\n                    transition: transform 0.3s;\r\n                    background-image: url(//update.coolmessenger.com/_ImageServer/coolschool/resources/images/more-arrow.png);\r\n                    background-repeat: no-repeat;\r\n                    width: 13px;\r\n                    height: 8px;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb li span {\r\n                    padding-right: 20px;\r\n                    cursor: pointer;\r\n                }\r\n                \r\n                div[coolrisGnbMenu]:hover .coolris-gnb-more {\r\n                    display: table;\r\n                }\r\n                \r\n                div[coolrisGnbMenu] .coolris-gnb-more {\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb-more a:hover {\r\n                    text-decoration: underline;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb-more a { color: #000000; }\r\n                div[coolrisGnbMenu] .coolris-gnb-more {\r\n                    padding-bottom: 20px;\r\n                    display: none;\r\n                    border: 1px solid #545454;\r\n                    font-family: 'dotum', sans-serif;\r\n                    font-size: 12px;\r\n                    line-height: 25px;\r\n                    position: absolute;\r\n                    background-color: #ffffff;\r\n                    right: 0;\r\n                    top: 49px;\r\n                    z-index: 9999;\r\n                    width: 100%;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb-more:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb-more li {\r\n                    width: 20%;\r\n                    padding-left: 15px;\r\n                    border-right: 1px solid #e1e1e1;\r\n                    display: table-cell;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb-more li:last-child {\r\n                    border-right: 0;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb-more li h4 {\r\n                    color: #000000;\r\n                    margin-top: 16px !important;\r\n                    font-size: 12px !important;\r\n                    line-height: 25px;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb-more li a {\r\n                    color: #8d8d8d !important;\r\n                    display: block;\r\n                    margin-top: 3px;\r\n                    width: 100%;\r\n                    font-size: 12px !important;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb-more li a:visited, div[coolrisGnbMenu] .coolris-gnb-more li a:focus, \r\n                div[coolrisGnbMenu] .coolris-gnb-more li a:hover {\r\n                    color: #8d8d8d !important;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb-more div {\r\n                    border-top: 1px solid #e1e1e1;\r\n                    height: 36px;\r\n                    line-height: 36px;\r\n                    padding: 0 15px;\r\n                }\r\n                div[coolrisGnbMenu] .coolris-gnb-more div:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n            </style>\r\n            <div coolrisGnbMenu>\r\n            <ul class=\"coolris-gnb\">\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_home', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"//www.coolschool.co.kr/\" target=\"_blank\">쿨스쿨 홈</a>\r\n                </li>\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_samstory', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"//samstory.coolschool.co.kr/zone\" target=\"_blank\">교육자료</a>\r\n                </li>\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_futureclass', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"https://futureclass.coolschool.co.kr\" target=\"_blank\">학교공간혁신</a>\r\n                </li>\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_coolmarket', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"//coolmarket.coolschool.co.kr\" target=\"_blank\">교구몰</a>\r\n                </li>\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_cooledutech', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"//www.coolschool.co.kr/edutech\" target=\"_blank\">에듀테크</a>\r\n                </li>\r\n                <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_notice', 'send_to': '${gaMeasurementId}'});\">\r\n                    <a href=\"https://www.coolschool.co.kr/news/index\" target=\"_blank\">공지/이벤트</a>\r\n                </li>\r\n                <li>\r\n                    <span>전체보기</span>\r\n                </li>\r\n            </ul>\r\n            <ul class=\"coolris-gnb-more\">\r\n                <li>\r\n                    <h4>교사생활</h4>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_samstory', 'send_to': '${gaMeasurementId}'});\" href=\"https://samstory.coolschool.co.kr/zone/\" target=\"_blank\">교육자료·에세이</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_tmall', 'send_to': '${gaMeasurementId}'});\" href=\"https://t-mall.coolschool.co.kr/\" target=\"_blank\">교원복지몰</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_cooledu', 'send_to': '${gaMeasurementId}'});\" href=\"https://cooledu.coolschool.co.kr/\" target=\"_blank\">연수·모임</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_coolbooks', 'send_to': '${gaMeasurementId}'});\" href=\"https://coolbooks.coolschool.co.kr/\" target=\"_blank\">도서</a>\r\n                </li>\r\n                <li>\r\n                    <h4>학교공간혁신</h4>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_attendance_manage', 'send_to': '${gaMeasurementId}'});\" href=\"//samstory.coolschool.co.kr/zone/story/aiir/streams/94667\" target=\"_blank\">비대면 출결관리</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_eduspace', 'send_to': '${gaMeasurementId}'});\" href=\"https://eduspace.coolschool.co.kr\" target=\"_blank\">실감형3D학습</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_futureclass', 'send_to': '${gaMeasurementId}'});\" href=\"https://futureclass.coolschool.co.kr/\" target=\"_blank\">AI융합교실</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_futureclass', 'send_to': '${gaMeasurementId}'});\" href=\"https://futureclass.coolschool.co.kr/\" target=\"_blank\">지능형 과학실</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_futureclass', 'send_to': '${gaMeasurementId}'});\" href=\"https://futureclass.coolschool.co.kr/\" target=\"_blank\">1인 미디어실</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_3dbank', 'send_to': '${gaMeasurementId}'});\" href=\"https://3dbank.coolschool.co.kr/\" target=\"_blank\">3D백과사전</a>\r\n                </li>\r\n                <li>\r\n                    <h4>학교업무</h4>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_coolmarket', 'send_to': '${gaMeasurementId}'});\" href=\"https://coolmarket.coolschool.co.kr/\" target=\"_blank\">학교예산·교구몰</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_coolmova', 'send_to': '${gaMeasurementId}'});\" href=\"https://coolmova.coolschool.co.kr/\" target=\"_blank\">교사안심번호</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_coolpama', 'send_to': '${gaMeasurementId}'});\" href=\"https://coolpama.coolschool.co.kr/\" target=\"_blank\">학부모연수</a>\r\n                </li>\r\n                <li>\r\n                    <h4>에듀테크</h4>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edutech', 'send_to': '${gaMeasurementId}'});\" href=\"https://www.coolschool.co.kr/edutech\" target=\"_blank\">에듀테크스토리</a>\r\n                </li>\r\n                <li>\r\n                    <h4>쿨스쿨소식</h4>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_notice', 'send_to': '${gaMeasurementId}'});\" href=\"https://www.coolschool.co.kr/news/index\" target=\"_blank\">공지/이벤트</a>\r\n                    <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_profile', 'send_to': '${gaMeasurementId}'});\" href=\"https://www.coolschool.co.kr/profile/search\" target=\"_blank\">선생님찾기</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        `\r\n    }\r\n\r\n    // 더보기 템플릿\r\n    getMoreTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                div[coolrisMore] {\r\n                    position: relative;\r\n                    float: left;\r\n                    margin-top: -2px;\r\n                    line-height: 1;\r\n                }\r\n                div[coolrisMore] .coolris-more-dropdown a:hover {\r\n                    text-decoration: underline;\r\n                }\r\n                div[coolrisMore] .coolris-more-dropdown a { color: #000000; }\r\n                div[coolrisMore] .coolris-more-dropdown {\r\n                    display: none;\r\n                    border: 1px solid #545454;\r\n                    font-family: 'dotum', sans-serif;\r\n                    font-size: 12px;\r\n                    line-height: 25px;\r\n                    width: 556px;\r\n                    position: absolute;\r\n                    background-color: #ffffff;\r\n                    right: 0;\r\n                    top: 33px;\r\n                    z-index: 9999;\r\n                }\r\n                div[coolrisMore] .coolris-more-dropdown.show {\r\n                    display: block;\r\n                }\r\n                div[coolrisMore] .coolris-more-btn {\r\n                    cursor: pointer;\r\n                    position: relative;\r\n                    padding-right: 20px;\r\n                    font-size: 14px;\r\n                }\r\n                div[coolrisMore] .coolris-more-btn:after {\r\n                    content: '';\r\n                    display: block;\r\n                    position: absolute;\r\n                    right: 0;\r\n                    top: 50%;\r\n                    margin-top: -4px;\r\n                    transition: transform 0.3s;\r\n                    background-image: url(//update.coolmessenger.com/_ImageServer/coolschool/resources/images/more-arrow.png);\r\n                    background-repeat: no-repeat;\r\n                    width: 13px;\r\n                    height: 8px;\r\n                }\r\n                div[coolrisMore] .coolris-more-dropdown.show ~ .coolris-more-btn:after {\r\n                    transform: rotate(-180deg);\r\n                    background-image: url(//update.coolmessenger.com/_ImageServer/coolschool/resources/images/more-arrow-on.png);\r\n                }\r\n                div[coolrisMore] .coolris-more-dropdown.show ~ .coolris-more-btn {\r\n                    color: #00a1e4;\r\n                }\r\n                div[coolrisMore] ul:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n                div[coolrisMore] ul {\r\n                    display: table;\r\n                    width: 100%;\r\n                }\r\n                div[coolrisMore] ul li {\r\n                    width: 20%;\r\n                    padding-left: 15px;\r\n                    border-right: 1px solid #e1e1e1;\r\n                    display: table-cell;\r\n                }\r\n                div[coolrisMore] ul li:last-child {\r\n                    border-right: 0;\r\n                }\r\n                div[coolrisMore] ul li h4 {\r\n                    color: #000000;\r\n                    margin-top: 16px !important;\r\n                    font-size: 12px !important;\r\n                    line-height: 25px;\r\n                }\r\n                div[coolrisMore] ul li a {\r\n                    color: #8d8d8d !important;\r\n                    display: block;\r\n                    margin-top: 3px;\r\n                    width: 100%;\r\n                    font-size: 12px !important;\r\n                }\r\n                div[coolrisMore] ul li a:visited, div[coolrisMore] ul li a:focus, div[coolrisMore] ul li a:hover {\r\n                    color: #8d8d8d !important;\r\n                }\r\n                div[coolrisMore] div.coolris-more-dropdown div {\r\n                    border-top: 1px solid #e1e1e1;\r\n                    height: 36px;\r\n                    line-height: 36px;\r\n                    padding: 0 15px;\r\n                }\r\n                div[coolrisMore] div.coolris-more-dropdown div:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n                div[coolrisMore] div a {\r\n                    float: left;\r\n                }\r\n                div[coolrisMore] div span {\r\n                    float: right;\r\n                    cursor: pointer;\r\n                }\r\n            </style>\r\n            <div coolrisMore>\r\n                <div class=\"coolris-more-dropdown\">\r\n                    <ul>\r\n                        <li>\r\n                            <h4>학교업무</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_coolmsg', 'send_to': '${gaMeasurementId}'});\" href=\"//school.coolmessenger.com/\" target=\"_blank\">쿨메신저</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_sms', 'send_to': '${gaMeasurementId}'});\" href=\"//coolsms.coolmessenger.com/\" target=\"_blank\">문자</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_mova', 'send_to': '${gaMeasurementId}'});\" href=\"//coolmova.coolschool.co.kr/\" target=\"_blank\">안심번호</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_banner', 'send_to': '${gaMeasurementId}'});\" href=\"//school.coolbooks.co.kr/\" target=\"_blank\">학교간행물</a>\r\n                        </li>\r\n                        <li>\r\n                            <h4>교사생활</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_samstory', 'send_to': '${gaMeasurementId}'});\" href=\"//samstory.coolschool.co.kr/\" target=\"_blank\">블로그</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_books', 'send_to': '${gaMeasurementId}'});\" href=\"//coolbooks.coolschool.co.kr/\" target=\"_blank\">책</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_meeting', 'send_to': '${gaMeasurementId}'});\" href=\"//cooledu.coolschool.co.kr/cooledulub/trainingList#ing\" target=\"_blank\">모임</a>\r\n                            <!--<a onclick=\"gtag('event', serviceName, {'event_category': 'link', 'event_label': 'gnb_more_mentoring', 'send_to': 'UA-92421532-1'});\" href=\"//www.coolschool.co.kr/kin/mentoringList\" target=\"_blank\">학교생활상담</a>-->\r\n                        </li>\r\n                        <li>\r\n                            <h4>학교업무</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu', 'send_to': '${gaMeasurementId}'});\" href=\"//cooledu.coolschool.co.kr/\" target=\"_blank\">원격연수</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_platform', 'send_to': '${gaMeasurementId}'});\" href=\"//cooledu.coolschool.co.kr/cooledulub/trainingList#ing\" target=\"_blank\">집합연수</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edu_pama', 'send_to': '${gaMeasurementId}'});\" href=\"//coolpama.coolschool.co.kr/\" target=\"_blank\">학부모연수</a>\r\n                        </li>\r\n                        <li>\r\n                            <h4>학교마켓</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_market', 'send_to': '${gaMeasurementId}'});\" href=\"//coolmarket.coolschool.co.kr/\" target=\"_blank\">교구몰</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_market_tmall', 'send_to': '${gaMeasurementId}'});\" href=\"//t-mall.coolschool.co.kr/\" target=\"_blank\">복지몰</a>\r\n                        </li>\r\n                        <li>\r\n                            <h4>교육이슈</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_news', 'send_to': '${gaMeasurementId}'});\" href=\"//samstory.coolschool.co.kr/zone/story/eduin\" target=\"_blank\">교육뉴스</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_edutech', 'send_to': '${gaMeasurementId}'});\" href=\"//www.coolschool.co.kr/edutech\" target=\"_blank\" style=\"margin-bottom: 10px;\">에듀테크스토리</a>\r\n                            <h4>쿨스쿨소식</h4>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_notice', 'send_to': '${gaMeasurementId}'});\" href=\"//www.coolschool.co.kr/news/index\" target=\"_blank\">공지/소식</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_contact', 'send_to': '${gaMeasurementId}'});\" href=\"//www.coolschool.co.kr/messenger/technicalSupport\" target=\"_blank\">문의하기</a>\r\n                            <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_profile', 'send_to': '${gaMeasurementId}'});\" href=\"//www.coolschool.co.kr/profile/search\" target=\"_blank\" style=\"margin-bottom: 22px\">선생님찾기</a>\r\n                        </li>\r\n                    </ul>\r\n                    <div>\r\n                        <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_more_all_service', 'send_to': '${gaMeasurementId}'});\" href=\"//coolschool.co.kr/allService\" target=\"_blank\">서비스 전체보기</a>\r\n                        <span class=\"dropdown-close\">닫기</span>\r\n                    </div>\r\n                </div>\r\n                <span class=\"coolris-more-btn\">\r\n                    더보기\r\n                </span>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    // 포인트 템플릿\r\n    getPointTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                div[coolrisPoint] {\r\n                    display: table-cell;\r\n                    vertical-align: middle;\r\n                    padding-right: 13px;\r\n                }\r\n                div[coolrisPoint] a {\r\n                    font-size: 14px;\r\n                    display: block;\r\n                    font-weight: bold;\r\n                    color: #00a1e4 !important;\r\n                }\r\n                div[coolrisPoint] a img {\r\n                    vertical-align: middle;\r\n                    display: inline-block;\r\n                    margin-right: 3px;\r\n                }\r\n            </style>\r\n            <div coolrisPoint>\r\n                <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_point', 'send_to': '${gaMeasurementId}'});\" href=\"//point.coolschool.co.kr\" target=\"_blank\">\r\n                    <img src=\"//update.coolmessenger.com/_ImageServer/coolschool/commonTop/point.png\" alt=\"img\" />\r\n                    <span data-name=\"spanPoint\"></span>\r\n                </a>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    // 로그인 전 템플릿\r\n    getBeforeLoginTemplate() {\r\n        return `\r\n            <style>\r\n                div[coolrisBeforLogin] {\r\n                    /*margin-top: -3px;*/\r\n                }\r\n                div[coolrisBeforLogin] a {\r\n                    font-size: 13px;\r\n                    color: #000000;\r\n                    cursor: pointer;\r\n                    line-height: 25px;\r\n                    display: inline-block;\r\n                }\r\n                div[coolrisBeforLogin] span {\r\n                    display: inline-block;\r\n                    margin: 0 3px;\r\n                }\r\n            </style>\r\n            <div coolrisBeforLogin>\r\n                <a href=\"javascript:void(0)\" data-name=\"aCoolLogin\">로그인</a>\r\n                <span>/</span>\r\n                <a href=\"javascript:void(0)\" data-name=\"aCoolJoin\">회원가입</a>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    // 탑배너 템플릿\r\n    getTopBannerTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                /*===== topBanner =====*/\r\n                div[coolrisTopBanner] {\r\n                    background-color:#24d1ab;\r\n                    /*display:none;*/\r\n                    text-align:center;\r\n                    font-family: NanumSquareRound, sans-serif;\r\n                }\r\n                 @media screen and (max-width: 992px) {\r\n                     div[coolrisTopBanner] {\r\n                        display: none !important;\r\n                     }\r\n                }\r\n                div[coolrisTopBanner] > div {\r\n                    height:79px;\r\n                    overflow: hidden;\r\n                    position: relative;\r\n                }\r\n                div[coolrisTopBanner] > div > div { position:relative; top: 0; }\r\n                div[coolrisTopBanner] .inner {\r\n                    width: 980px;\r\n                    margin: 0 auto;\r\n                }\r\n                div[coolrisTopBanner] .inner a { display: block; width: 100%; }\r\n                div[coolrisTopBanner] .top_close{\r\n                    color:#000;\r\n                    font-size:11px;\r\n                    position:absolute;\r\n                    bottom:5px;\r\n                    right:100px;\r\n                    font-family: \"Dotum\", sans-serif;\r\n                    z-index:999;\r\n                }\r\n                div[coolrisTopBanner] .top_close img {\r\n                    margin-right: 7px;\r\n                    margin-bottom: 3px;\r\n                    vertical-align: middle;\r\n                }\r\n                div[coolrisTopBanner] .topbanner-paging {\r\n                    display: block !important;\r\n                    position: relative;\r\n                    height: 0;\r\n                    z-index: 10;\r\n                }\r\n                div[coolrisTopBanner] .topbanner-paging ul {\r\n                    position: absolute ;\r\n                    right: 0;\r\n                    top: 10px;\r\n                    list-style: none;\r\n                    padding: 0;\r\n                    margin: 0;\r\n                }\r\n                div[coolrisTopBanner] .topbanner-paging ul li {\r\n                    margin-bottom: 5px;\r\n                }\r\n                div[coolrisTopBanner] .topbanner-paging ul li span[data-name='topbannerPaging'] {\r\n                    display: block;\r\n                    width: 10px;\r\n                    height: 10px;\r\n                    border-radius: 50%;\r\n                    background-color: rgba(100, 100, 100, 0.4);\r\n                    cursor: pointer;\r\n                }\r\n\r\n                div[coolrisTopBanner] .topbanner-paging ul li span[data-name='topbannerPaging'].on {\r\n                    background-color: rgba(100, 100, 100, 1);\r\n                }\r\n                div[coolrisTopBanner] .topbanner-paging ul li span[data-name='topbannerPaging']:hover {\r\n                    background-color: rgba(100, 100, 100, 1);\r\n                }\r\n                div[coolrisTopBanner] .top {\r\n                    position: absolute;\r\n                    top: 0;\r\n                    width: 100%;\r\n                }\r\n                div[coolrisTopBanner] .topbanner-list .topbanner-item {\r\n                    height: 79px;\r\n                }\r\n                div[coolrisTopBanner] .topbanner-list .topbanner-item img{\r\n                    display: block;\r\n                    margin: 0 auto;\r\n                }\r\n                div[coolrisTopBanner] .topbanner-paging p[data-name='topbannerClose'] {\r\n                    font-size: 13px;\r\n                    color: #000000;\r\n                    position: absolute;\r\n                    top: 60px;\r\n                    right: 15px;\r\n                    cursor: pointer;\r\n                    margin: 0;\r\n                    letter-spacing: -0.5px;\r\n                    line-height: initial;\r\n                }\r\n                div[coolrisTopBanner] .topbanner-paging p[data-name='topbannerClose']:hover {\r\n                    font-weight: bold;\r\n                }\r\n            </style>\r\n            <div coolrisTopBanner data-name=\"topBanner\">\r\n                <div>\r\n                    <div class=\"inner topbanner-paging\">\r\n                        <ul>\r\n                            {{ for(var idx in it.coolTopBannerItems) { }}\r\n                                <li><span data-name=\"topbannerPaging\"></span></li>\r\n                            {{ } }}\r\n                        </ul>\r\n                        <p data-name=\"topbannerClose\" class=\"\">오늘 보지 않기</p>\r\n                    </div>\r\n                    <div class=\"topbanner-list\">\r\n                        {{ for(var idx in it.coolTopBannerItems) { }}\r\n                        <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'main_banner_top', 'send_to': '${gaMeasurementId}'});\" href=\"{{=it.coolTopBannerItems[idx].landingUrl}}\" target=\"_blank\">\r\n                            <!--suppress CssInvalidPropertyValue -->\r\n                            <div class=\"topbanner-item\" style=\"background-color: {{=it.coolTopBannerItems[idx].etc1}}\">\r\n                                <div class=\"inner\">\r\n                                    <img src=\"{{=it.coolTopBannerItems[idx].imageUrl}}\" alt=\"img\" />\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        {{ } }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    // 알람 템플릿\r\n    getAlarmTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                div[coolrisAlarm] {\r\n                    position: relative;\r\n                    display: table-cell;\r\n                    vertical-align: middle;\r\n                    font-family: 'dotum', sans-serif;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-btn {\r\n                    cursor: pointer;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-btn img {\r\n                    display: block;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown {\r\n                    background-color: #ffffff;\r\n                    display: none;\r\n                    padding: 12px 10px 10px;\r\n                    min-width: 182px;\r\n                    border: 1px solid #9b9b9b;\r\n                    border-radius: .25rem;\r\n                    position: absolute;\r\n                    top: 32px;\r\n                    right: 0;\r\n                    font-size: 12px;\r\n                    width: 300px;\r\n                    z-index: 9999;\r\n                    text-align: center;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown.show {\r\n                    display: block;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown .dropdown-tail {\r\n                    position: absolute;\r\n                    top: -8px;\r\n                    right: 3px;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown li {\r\n                    border-bottom: 1px solid #ebebeb;\r\n                    padding: 13px;\r\n                    text-align: left;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown li:hover {\r\n                    background-color: rgba(100,100,100,0.1);\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown ul {\r\n                    height: auto;\r\n                    max-height: 330px;\r\n                    overflow-y: auto;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown li p {\r\n                    color: #414141;\r\n                    text-overflow: ellipsis;\r\n                    overflow: hidden;\r\n                    white-space: nowrap;\r\n                    margin-bottom: 1px;\r\n                    margin-top: 0;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown li span {\r\n                    text-overflow: ellipsis;\r\n                    overflow: hidden;\r\n                    white-space: nowrap;\r\n                    margin-bottom: 1px;\r\n                    color: #b0b0b0;\r\n                    display: block;\r\n                    margin-top: 10px;\r\n                    line-height: initial;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown div {\r\n                    text-align: center;\r\n                    padding-top: 15px;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown div a {\r\n                    display: inline-block;\r\n                    padding: 0 25px;\r\n                    min-width: 55px;\r\n                    line-height: 30px;\r\n                    height: 33px;\r\n                    font-size: 13px;\r\n                    border-radius: 5px;\r\n                    border: 1px solid #9b9b9b;\r\n                    box-sizing: border-box;\r\n                    transition: opacity 0.2s, box-shadow 0.2s;\r\n                    color: #000000;\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown div a:hover {\r\n                    opacity: 0.6;\r\n                    box-shadow: 2px 2px 3px 0 rgba(0,0,0,0.26);\r\n                }\r\n                div[coolrisAlarm] .coolris-alarm-dropdown .all-alam-btn {\r\n                    height: 30px;\r\n                    line-height: 30px;\r\n                    font-size: 13px;\r\n                    color: #6f6f6f;\r\n                    background-color: #ffffff;\r\n                    display: inline-block;\r\n                    border: 1px solid #dedede;\r\n                    text-align: center;\r\n                    margin-top: 7px;\r\n                    cursor: pointer;\r\n                    width: auto;\r\n                    padding: 0 16px;\r\n                }\r\n            </style>\r\n            <div coolrisAlarm>\r\n                <span class=\"coolris-alarm-btn\">\r\n                    <img class=\"coolris-alarm-img\" src=\"//update.coolmessenger.com/_ImageServer/metoring/kin_alam_on.png\" alt=\"알람 이미지\"/>\r\n                </span>\r\n                <div class=\"coolris-alarm-dropdown\">\r\n                    <img class=\"dropdown-tail\" src=\"//update.coolmessenger.com/_ImageServer/coolschool/resources/images/dropbox_tail.png\" alt=\"img\" />\r\n                    <ul>\r\n                    {{ for(var idx in it.coolAlarmItems) { }}\r\n                        <li onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'gnb_alarm_item', 'send_to': '${gaMeasurementId}'});\">\r\n                            <a href=\"{{=it.coolAlarmItems[idx].url}}\" target=\"_blank\">\r\n                                <p>{{=it.coolAlarmItems[idx].message}}</p>\r\n                                <span>{{=it.toDateYmdFormat(new Date(it.coolAlarmItems[idx].createdDate))}}</span>\r\n                            </a>\r\n                        </li>\r\n                    {{ } }}\r\n                    </ul>\r\n                        <a class=\"all-alam-btn\" onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'all_alarm', 'send_to': '${gaMeasurementId}'});\" href=\"/notification/index\" target=\"_blank\">알림 모두 보기</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    // footer 템플릿\r\n    getFooterTemplate(footerTemplate: FooterTemplate) {\r\n        return `\r\n            <style>\r\n                @font-face {\r\n                    font-family: 'NanumGothic';\r\n                    src: url(\"//resource.coolmessenger.com/coolschool/resources/fonts/nanumgothic/NanumGothic.woff2\") format('woff2'),\r\n                    url(\"//resource.coolmessenger.com/coolschool/resources/fonts/nanumgothic/NanumGothic.woff\") format('woff'),\r\n                    url(\"//resource.coolmessenger.com/coolschool/resources/fonts/nanumgothic/NanumGothic.eot\") format('opentype');\r\n                }\r\n                .coolris-footer[coolrisFooter] {\r\n                    border-top: 1px solid #dedede;\r\n                    background-color: #ffffff;\r\n                }\r\n                .coolris-footer[coolrisFooter] * {\r\n                    font-family: \"NanumGothic\",\"Dotum\", sans-serif;\r\n                    box-sizing: border-box;\r\n                }\r\n                .coolris-footer[coolrisFooter] .inner {\r\n                    width: 1110px;\r\n                    margin: 0 auto;\r\n                    position: relative;\r\n                    padding-top: 30px;\r\n                    padding-bottom: 30px;\r\n                }\r\n                @media screen and (max-width: 1150px) {\r\n                    .coolris-footer[coolrisFooter] .inner {\r\n                        width: 100%;\r\n                    }\r\n                }\r\n                .coolris-footer[coolrisFooter] .intro {\r\n                    color: #bbbbbb;\r\n                    font-size: 14px;\r\n                    line-height: 24px;\r\n                    margin-top: 17px;\r\n                }\r\n                .coolris-footer[coolrisFooter] .intro:after {\r\n                    content: '';\r\n                    display: block;\r\n                    clear: both;\r\n                }\r\n            </style>\r\n            <div class=\"coolris-footer\" coolrisFooter>\r\n                ${footerTemplate.quickMenu}\r\n                <div class=\"inner\">\r\n                    ${footerTemplate.bi}\r\n                    <div class=\"intro\">\r\n                        ${footerTemplate.link}\r\n                    </div>\r\n                    ${footerTemplate.info}\r\n                </div>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    /**\r\n     *  footer BI\r\n     */\r\n    getBiTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                a[coolrisBi] {}\r\n                a[coolrisBi] img {\r\n                    width: 170px;\r\n                    height: 45px;\r\n                }\r\n                @media screen and (max-width: 1150px) {\r\n                    a[coolrisBi] {\r\n                        width: 170px;\r\n                        margin: 0 auto;\r\n                        display: block;\r\n                    }   \r\n                }\r\n            </style>\r\n            <a coolrisBi onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'footer_bi', 'send_to': '${gaMeasurementId}'});\" href=\"//coolschool.co.kr\" target=\"_blank\">\r\n                <img src=\"//update.coolmessenger.com/_ImageServer/coolschool/bi_coolschool_en.png\" alt=\"image\">\r\n            </a>\r\n        `\r\n    }\r\n\r\n    /**\r\n     *  퀵메뉴 (위로가기, 아래로가기 버튼)\r\n     */\r\n    getQuickMenuTemplate() {\r\n        return `\r\n            <style>\r\n                div[coolrisQuickMenu] {\r\n                    position: fixed;\r\n                    right: -45px;\r\n                    bottom: 307px;\r\n                    -webkit-transition: right 0.4s;\r\n                    -moz-transition: right 0.4s;\r\n                    -o-transition: right 0.4s;\r\n                    transition: right 0.4s;\r\n                    z-index: 1000;\r\n                }\r\n                div[coolrisQuickMenu].on {\r\n                    right: 22px;\r\n                }\r\n                div[coolrisQuickMenu] span {\r\n                    line-height: 20px;\r\n                    font-size: 12px;\r\n                    color: #adadad;\r\n                    display: block;\r\n                    border: 1px solid #9c9c9c;\r\n                    cursor: pointer;\r\n                    -webkit-border-radius: 3px;\r\n                    -moz-border-radius: 3px;\r\n                    border-radius: 3px;\r\n                    background-image: url(//update.coolmessenger.com/_ImageServer/coolschool/2020/05/renew/arrow_quick.png);\r\n                    background-repeat: no-repeat;\r\n                    background-size: auto;\r\n                    background-width: 100%;\r\n                    background-height: auto;\r\n                    background-position: center center;\r\n                    width: 36px;\r\n                    height: 36px;\r\n                    background-color: #fff;\r\n                }\r\n                div[coolrisQuickMenu] .ico-bottom {\r\n                    border-bottom: 0;\r\n                       transform: rotate(180deg);\r\n                }\r\n            </style>\r\n            <div coolrisQuickMenu>\r\n                <span class=\"ico-top\"></span>\r\n                <span class=\"ico-bottom\"></span>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    /**\r\n     *  링크 메뉴\r\n     */\r\n    getLinkTemplate(serviceName: string, gaMeasurementId: string) {\r\n        return `\r\n            <style>\r\n                div[coolrisLink] {\r\n                    display: inline-block;\r\n                }\r\n                div[coolrisLink] a, div[coolrisLink] span {\r\n                    margin-right: 35px;\r\n                    position: relative;\r\n                    color: #373737;\r\n                    font-size: 14px;\r\n                    line-height: 24px;\r\n                    text-decoration: none;\r\n                    cursor: pointer;\r\n                }\r\n                div[coolrisLink] span {cursor: default;}\r\n                div[coolrisLink] a:hover {\r\n                    text-decoration: underline;\r\n                }\r\n                div[coolrisLink] a:after {\r\n                    content: '';\r\n                    display: block;\r\n                    width: 1px;\r\n                    height: 13px;\r\n                    background-color: #bbbbbb;\r\n                    position: absolute;\r\n                    right: -22px;\r\n                    top: 2px;\r\n                }\r\n                div[coolrisLink] a:last-child {\r\n                    margin-right: 0;\r\n                }\r\n                div[coolrisLink] a:last-child:after {\r\n                    display: none;\r\n                }\r\n                @media screen and (max-width: 980px) {\r\n                    div[coolrisLink] a {\r\n                        width: 50%;\r\n                        display: block;\r\n                        float: left;\r\n                        margin-right: 0;\r\n                        margin-bottom: 10px;\r\n                        text-align: center;\r\n                    }\r\n                    div[coolrisLink] a:after {\r\n                        display: none;\r\n                    }\r\n                    div[coolrisLink] {\r\n                        display: block;\r\n                    }\r\n                }\r\n            </style>\r\n            <div coolrisLink>\r\n                <a onclick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'contactus', 'send_to': '${gaMeasurementId}'});\"\r\n                href=\"//www.coolschool.co.kr/together\" target=\"_blank\">광고·제휴·입점문의</a>\r\n                <a onClick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'terms_of_service_policy', 'send_to': '${gaMeasurementId}'});\r\n                window.open('//update.coolmessenger.com/_ImageServer/coolschool/contracts/term_coolschool_202106.pdf');\" class=\"pointer\">이용약관</a>\r\n                <a onClick=\"gtag('event', '${serviceName}', {'event_category': 'link', 'event_label': 'privacy_policy', 'send_to': '${gaMeasurementId}'});\r\n                window.open('//update.coolmessenger.com/_ImageServer/coolschool/contracts/privacy_coolschool_202112.pdf');\" class=\"pointer\">개인정보처리방침</a>\r\n                <span>개인정보관리 책임자 : 이나래</span>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    /**\r\n     * 패밀리 사이트\r\n     */\r\n    getFamilySiteTemplate() {\r\n        return `\r\n            <style>\r\n                span[coolrisFamilysite] {\r\n                    display: block;\r\n                    width: 182px;\r\n                    background-color: #ffffff;\r\n                    position: relative;\r\n                    float: right;\r\n                    top: -4px;\r\n                }\r\n                span[coolrisFamilysite] .coolris-familysite-btn {\r\n                    font-size: 12px;\r\n                    color: #343434;\r\n                    width: 100%;\r\n                    line-height: 30px;\r\n                    height: 30px;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: space-between;\r\n                    border: 1px solid #d6d6d6;\r\n                    padding: 0 10px;\r\n                    cursor: pointer;\r\n                }\r\n                span[coolrisFamilysite] .coolris-familysite-dropdown {\r\n                    display: none;\r\n                    background-color: #ffffff;\r\n                    width: 100%;\r\n                    padding: 10px 0;\r\n                    border: 1px solid #d6d6d6;\r\n                    border-bottom: 0;\r\n                    position: absolute;\r\n                    left: 0;\r\n                    bottom: 30px;\r\n                }\r\n                span[coolrisFamilysite] .coolris-familysite-dropdown.show {\r\n                    display: block;\r\n                }\r\n                span[coolrisFamilysite] .coolris-familysite-dropdown a {\r\n                    padding: 0 10px;\r\n                    display: block;\r\n                    width: 100%;\r\n                    font-size: 12px;\r\n                    line-height: 28px;\r\n                    height: 28px;\r\n                    color: #373737;\r\n                    text-decoration: none;\r\n                }\r\n                span[coolrisFamilysite] .coolris-familysite-dropdown a:hover {\r\n                    background-color: rgba(100, 100, 100, 0.1);\r\n                }\r\n\r\n                @media screen and (max-width: 980px) {\r\n                    span[coolrisFamilysite] {\r\n                        display: none;\r\n                    }\r\n                }\r\n            </style>\r\n            <span class=\"family-site\" coolrisFamilysite>\r\n                <span class=\"coolris-familysite-btn\">\r\n                    지란지교패밀리사이트\r\n                    <img class=\"coolris-familysite-arrow\" src=\"//update.coolmessenger.com/_ImageServer/coolschool/2020/05/renew/arrow_failysite.png\" alt=\"img\">\r\n                </span>\r\n                <span class=\"coolris-familysite-dropdown\">\r\n                    <a href=\"//jirancomms.com/\" target=\"_blank\">지란지교컴즈</a>\r\n                    <a href=\"//www.jiransoft.co.kr/\" target=\"_blank\">지란지교소프트</a>\r\n                    <a href=\"//www.jirandata.co.kr/\" target=\"_blank\">지란지교데이터</a>\r\n                    <a href=\"//www.jiransecurity.com/\" target=\"_blank\">지란지교시큐리티</a>\r\n                    <a href=\"//jiransnc.com/\" target=\"_blank\">지란지교에스앤씨</a>\r\n                    <a href=\"//global.jiran.com/jp\" target=\"_blank\">JIRANSOFT JAPAN</a>\r\n                    <a href=\"//www.jiran.com/\" target=\"_blank\">지란지교</a>\r\n                </span>\r\n            </span>\r\n        `\r\n    }\r\n\r\n    /**\r\n     *  사이트 정보\r\n     */\r\n    getInfoTemplate(serviceName?: string, gaMeasurementId?: string) {\r\n        return `\r\n            <style>\r\n                section[coolrisInfo] {\r\n                    \r\n                }\r\n                section[coolrisInfo] * {\r\n                    font-size: 13px;\r\n                    color: #858585;\r\n                    line-height: 24px;\r\n                    font-family: \"Dotum\", sans-serif;\r\n                    margin: 0;\r\n                    padding: 0;\r\n                }\r\n                section[coolrisInfo] a {\r\n                    text-decoration: none;\r\n                }\r\n                section[coolrisInfo] p:first-child {\r\n                    margin-top: 20px;\r\n                }\r\n                section[coolrisInfo] p:nth-child(2) {\r\n                    margin-bottom: 10px;\r\n                    margin-top: 4px;\r\n                }\r\n                section[coolrisInfo] p.patent {\r\n                    line-height: 19px;\r\n                    font-size: 12px;\r\n                    margin-bottom: 15px;\r\n                }\r\n                section[coolrisInfo] p.emphasis {\r\n                    color: #ff4d66;\r\n                    font-weight: bold;\r\n                }\r\n            </style>\r\n            <section coolrisInfo>\r\n                <p>\r\n                    ㈜쿨스쿨 ㅣ 대표: 오진연 | 사업자번호 : 314-86-66749 ㅣ통신판매업신고 : 제2020-서울강남-03761호<br/>\r\n                    (12925) 경기 하남시 미사대로 520 현대지식산업센터 한강미사 2차 D동 4층 422호\r\n                </p>\r\n                <br/>\r\n                <p class=\"emphasis\">\r\n                    ※ 쿨메신저/쿨알리미 문의 02-6325-6300\r\n                </p>\r\n                <p>\r\n                    쿨스쿨 문의 <a href=\"tel:1600-1354\">1600-1354</a> ㅣ <a href=\"mailto:cs@coolschool.co.kr\">cs@coolschool.co.kr</a>  ㅣ 평일 9-17시 ㅣ 점심시간 12-13시 ㅣ 주말/공휴일 제외\r\n                </p>\r\n                <br/>\r\n                <p class=\"patent\">\r\n                    <img src=\"//update.coolmessenger.com/_ImageServer/samstory/images/sun.png\" alt=\"image\" />특허출원번호 10-2019-0071409 개인 콘텐츠 제공방법 및 장치<br/>\r\n                    <img src=\"//update.coolmessenger.com/_ImageServer/samstory/images/sun.png\" alt=\"image\" />특허출원번호 10-2019-0071076 개인 프로필 정보 제공방법 및 장치<br/>\r\n                </p>\r\n                <p>\r\n                    Copyrightⓒ  2020 ㈜쿨스쿨 ALL RIGHTS RESERVED\r\n                </p>\r\n            </section>\r\n        `\r\n    }\r\n}\r\n","import {SOCKET_URL, SocketEvent} from \"../coolris-common\";\r\n\r\ndeclare var $: any;\r\ndeclare const io: any;\r\ndeclare const window: Window | any;\r\n\r\ninterface SocketServiceParam {\r\n    coolIdx?: number;\r\n}\r\n\r\nexport class SocketService {\r\n\r\n    socket: any;\r\n\r\n    constructor(\r\n        private param: SocketServiceParam) {\r\n    }\r\n\r\n    connection(): void {\r\n        this.socket = io(SOCKET_URL, {\r\n            path: '/alimi',\r\n            reconnection: true,\r\n            autoConnect: true,\r\n            query: {coolIdx: this.param.coolIdx}\r\n        });\r\n        this.socket.on('connect', () => {});\r\n        this.socket.on(SocketEvent.UPDATE_MY_INFO, () => {\r\n            location.reload();\r\n        });\r\n        this.socket.on(SocketEvent.LOGOUT, () => {\r\n            // window.logout();\r\n            $(\"[data-name='spanLogout']\").trigger(\"click\");\r\n        });\r\n    }\r\n\r\n    emit(eventName, obj): any {\r\n        this.socket.emit(eventName, obj);\r\n    }\r\n\r\n    emitLogout(){\r\n        this.emit(SocketEvent.EVENT_BROADCAST, {eventName: SocketEvent.LOGOUT});\r\n    }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(896);\n"],"names":["root","factory","exports","module","define","amd","a","i","self","accessToken","serviceName","risService","CommsrisService","popupCurrentLeftPosition","start","coolrisOpt","options","this","initOption","gaOpts","gaMeasurementId","openPopup2","getCoolTemplate","login","getLoginTemplate","menu","getGnbMenuTemplate","more","point","beforeLogin","getBeforeLoginTemplate","topBanner","getTopBannerTemplate","footerStart","setGoogleCode","footerTemplate","bi","getBiTemplate","quickMenu","getQuickMenuTemplate","link","getLinkTemplate","familySite","getFamilySiteTemplate","info","getInfoTemplate","coolrisTemplateFn","doT","template","getFooteremplate","$","html","eventDropdownAndQuickMenu","channelTalkService","ChannelTalkService","loadScript","boot","loadSettingMyArea","loadProfileResult","profileResult","data","profileData","settingProfile","attr","profileImage","name","getBannerData","setting","url","type","ajax","then","response","subdomain","getHost","getPopupData","popupInfo","etc2","hasDisplayedPopup","showPopup","popupurl","createdDate","startDate","endDate","imageUrl","getImageSize","popupStartDate","Date","convertDate","popupEndDate","nowDate","img","Image","src","window","devicePixelRatio","whaleSizeOption","Math","round","width","height","chromeSizeOption","console","log","sizeOption","navigator","userAgent","indexOf","open","strWidth","strHeight","Promise","resolve","reject","onload","size","onerror","Error","openPopup","displayPopup","constants","searchUrl","get","cookieName","getCookie","popupSizeDict","parse","JSON","image","sampleTimestamp","date","year","getFullYear","toString","slice","month","getMonth","day","getDate","getHours","getMinutes","getSeconds","extend","gaPageviewCall","Risbase","Commsris","ECoolEnv","getEnv","localHost","location","hostname","devHost","PROD","LOCAL","DEV","getEnvPrefix","prefix","env","CoolEnv","coolEnv","siteUrl","environment","environmentDev","memberUrl","clientIds","SOCKET_URL","SocketEvent","envName","coolsmsUrl","coolalimiUrl","coolalimTalkUrl","coolendarUrl","coolmessengerUrl","u","d","version","templateSettings","evaluate","interpolate","encode","use","useParams","defineParams","conditional","iterate","varname","strip","append","selfcontained","doNotSkipEncoded","compile","e","n","t","replace","eval","s","end","startencode","split","p","l","r","o","c","substring","arg","text","Function","__exp","RegExp","_encodeHTML","encodeHTMLSource","apply","undefined","addCcAnalytics","dropdownOnOff","dropdownClass","callback","click","$event","target","className","dropdown","hasClass","removeClass","parentNode","tagName","toLowerCase","preventClickEvent","preventDefault","stopPropagation","document","ready","length","createElement","async","getElementsByTagName","insertBefore","gtag","dataLayer","push","arguments","getRandomeNum","index","floor","random","addComma","num","toDateYmdFormat","yyyy","mm","dd","suffle","j","x","setCookie","cname","cvalue","exdays","setTime","getTime","expires","toUTCString","cookie","ca","decodeURIComponent","charAt","host","dropdownToggle","toggleBtn","dropDownClass","googleCodeLabel","toggleClass","setGtag","onScrollShowQuickMenu","$win","scroll","winScroll","scrollTop","topBtm","addClass","onClickQuickMenu","htmlBody","quickmenu","find","stop","animate","footerH","targeCheck","isChecked","RisbaseCommon","socketService","loginInfo","result","isSlideMove","gnbOuterTemplateFn","getGnbOuterTemplate","loadSettingTopBanner","coolTemplate","loginCheck","memberResponse","isLogin","isFullSize","layoutOpts","getHeaderBiTemplate","getGnbTemplate","targetProfileCheck","onLoginOutEvents","socketInit","idx","getPointTemplate","getFooterTemplate","targetMoreCheck","targetAlarmCheck","topBannerSlideEvent","topBannerPaging","topBannerPagingNum","topBannerSlideManager","autoSlideFnc","clickNum","autoSlideInterval","setInterval","clearInterval","on","slideNum","topBannerList","is","topbannerCloseEvent","css","coolid","method","dataType","loadAlarmMessage","coolIdx","goDefaultCoolLogin","clientId","action","COOL_LOGIN_CALLBACK_URL","protocol","COOL_LOGIN_URL","param","client_id","redirect_uri","redirect_uri_next","href","do_action","loginURL","paramStr","search","goCoolLogin","CLIENT_ID","getClientId","logout","logoutOpts","logoutUrl","contentType","logoutForOtherSite","isLogoutProc","logoutProcUrl","isRestoreLocation","pathname","join","form","setAttribute","body","appendChild","insert1","insert2","submit","coolrisOpts","logoutResult","callbackLogoutComplete","warn","coolAlarmItems","coolAlarmResponse","alarmTemplateFn","getAlarmTemplate","topBandBannerList","bannerData","filter","k","topBannerTemplateFn","coolTopBannerItems","loginResultPromise","SocketService","connection","w","ChannelIO","error","ch","ChannelIOInitialized","q","args","readyState","addEventListener","option","shutdown","showMessenger","hideMessenger","openChat","chatId","message","track","eventName","eventProperty","onShowMessenger","onHideMessenger","onBadgeChanged","onChatCreated","onFollowUpChanged","onUrlClicked","clearCallbacks","updateUser","userInfo","addTags","tags","removeTags","setPage","page","resetPage","showChannelButton","hideChannelButton","setAppearance","appearance","getMoreTemplate","RisService","socket","io","path","reconnection","autoConnect","query","UPDATE_MY_INFO","reload","LOGOUT","trigger","emit","obj","emitLogout","EVENT_BROADCAST","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}